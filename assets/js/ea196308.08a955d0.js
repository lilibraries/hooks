"use strict";(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[1596],{3724:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(7294),o=n(8134);const a=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let n=0,r=e.length;for(;n<r;n++)if(!Object.is(e[n],t[n]))return!1;return!0};var i=n(7541);const u=function(e){return function(t,n,u){const s=(0,r.useRef)(!1),c=(0,r.useRef)([]),l=(0,r.useRef)([]),p=(0,r.useRef)();function d(){null==p.current||p.current()}e((()=>{const e=u.map(i.Z);function r(){c.current=n,l.current=e,p.current=t()}s.current?a(n,c.current)&&a(e,l.current)||(d(),r()):(r(),s.current=!0)})),(0,o.Z)((()=>{d(),s.current=!1}))}}},4259:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(4708),o=n(3809),a=n(8298),i=n(7541);const u=function(e){return!!e&&!!e.addEventListener&&!!e.removeEventListener};const s=function(e,t,n,s){let c,l,p;"boolean"==typeof s?c=s:(0,a.Z)(s)&&(void 0!==s.capture&&(c=!!s.capture),void 0!==s.once&&(l=!!s.once),void 0!==s.passive&&(p=!!s.passive));const d=(0,r.Z)(n);(0,o.Z)((()=>{const n=(0,i.Z)(e);if(u(n))return n.addEventListener(t,d,{capture:c,once:l,passive:p}),()=>{n.removeEventListener(t,d,{capture:c})}}),[t,c,l,p],[e])}},8242:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294);const o=function(e){const t=(0,r.useRef)(e);return t.current=e,t}},4708:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294),o=n(8242);const a=function(e){const t=(0,r.useRef)(),n=(0,o.Z)(e);return t.current||(t.current=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(this,t)}),t.current}},3809:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294);const o=(0,n(3724).Z)(r.useEffect)},8134:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294);const o=function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}},7541:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(9745),o=n(8298),a=n(2641);const i=function(e){return r.Z?(0,a.Z)(e)?e():(0,o.Z)(e)&&"current"in e?e.current:e:null}},9745:(e,t,n)=>{n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||!window.document||!window.document.createElement)},2641:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){return"function"==typeof e}},8298:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){return"object"==typeof e&&null!==e}},7622:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>p,default:()=>k,frontMatter:()=>l,metadata:()=>d,toc:()=>v});var r=n(7462),o=n(7294),a=n(3905),i=n(3066),u=n(2823),s=n(4259);const c=function(){const e=(0,o.useRef)(null);return(0,s.Z)(e,"click",(()=>{alert("Click")})),o.createElement("button",{ref:e},"Click")},l={},p=void 0,d={unversionedId:"useEventListener",id:"useEventListener",title:"useEventListener",description:"Set up the event listener to the target.",source:"@site/docs/useEventListener.mdx",sourceDirName:".",slug:"/useEventListener",permalink:"/hooks/useEventListener",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useClickAway",permalink:"/hooks/useClickAway"},next:{title:"useCookie",permalink:"/hooks/useCookie"}},f={},v=[{value:"API",id:"api",level:2},{value:"Example",id:"example",level:2}],m={toc:v};function k(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Set up the event listener to the target."),(0,a.kt)("h2",{id:"api"},"API"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type Target<T> = T | undefined | null;\ntype TargetCreator<T> =\n  | Target<T>\n  | (() => Target<T>)\n  | React.RefObject<Target<T>>\n  | React.MutableRefObject<Target<T>>;\n\nfunction useEventListener<\n  T extends EventTarget = EventTarget,\n  E extends Event = Event\n>(\n  target: TargetCreator<T>,\n  eventName: string,\n  listener: (event: E) => void,\n  options?: boolean | { capture?: boolean; once?: boolean; passive?: boolean }\n): void;\n")),(0,a.kt)("p",null,"Params:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"target"),":")," Event target. It can be ",(0,a.kt)("inlineCode",{parentName:"li"},"undefined"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"null"),", event target, a ref object or a function that returns a event target."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"eventName"),":")," Event name."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"listener"),":")," Listener function."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options"),":")," Similar to the third parameter of the ",(0,a.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener"},(0,a.kt)("inlineCode",{parentName:"a"},"addEventListener"))," function.")),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)(u.Z,{mdxType:"ExampleBlock"},(0,a.kt)(c,{mdxType:"Example"})),(0,a.kt)(i.Z,{language:"tsx",mdxType:"CodeBlock"},'import React, { useRef } from "react";\nimport { useEventListener } from "@lilib/hooks";\n\nfunction Example() {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n\n  useEventListener(buttonRef, "click", () => {\n    alert("Click");\n  });\n\n  return <button ref={buttonRef}>Click</button>;\n}\n\nexport default Example;\n'))}k.isMDXComponent=!0}}]);