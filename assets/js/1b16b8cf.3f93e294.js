"use strict";(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[4536],{3724:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294),s=n(8134);const i=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let n=0,r=e.length;for(;n<r;n++)if(!Object.is(e[n],t[n]))return!1;return!0};var u=n(7541);const o=function(e){return function(t,n,o){const c=(0,r.useRef)(!1),a=(0,r.useRef)([]),l=(0,r.useRef)([]),d=(0,r.useRef)();function p(){null==d.current||d.current()}e((()=>{const e=o.map(u.Z);function r(){a.current=n,l.current=e,d.current=t()}c.current?i(n,a.current)&&i(e,l.current)||(p(),r()):(r(),c.current=!0)})),(0,s.Z)((()=>{p(),c.current=!1}))}}},4259:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(4708),s=n(3809),i=n(8298),u=n(7541);const o=function(e){return!!e&&!!e.addEventListener&&!!e.removeEventListener};const c=function(e,t,n,c){let a,l,d;"boolean"==typeof c?a=c:(0,i.Z)(c)&&(void 0!==c.capture&&(a=!!c.capture),void 0!==c.once&&(l=!!c.once),void 0!==c.passive&&(d=!!c.passive));const p=(0,r.Z)(n);(0,s.Z)((()=>{const n=(0,u.Z)(e);if(o(n))return n.addEventListener(t,p,{capture:a,once:l,passive:d}),()=>{n.removeEventListener(t,p,{capture:a})}}),[t,a,l,d],[e])}},8242:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7294);const s=function(e){const t=(0,r.useRef)(e);return t.current=e,t}},4708:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7294),s=n(8242);const i=function(e){const t=(0,r.useRef)(),n=(0,s.Z)(e);return t.current||(t.current=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(this,t)}),t.current}},3809:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7294);const s=(0,n(3724).Z)(r.useEffect)},8134:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7294);const s=function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}},2082:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(7294),s=n(8134);const i=function(e){return function(t,n){const i=(0,r.useRef)(!1);e((()=>{if(i.current)return t();i.current=!0}),n),(0,s.Z)((()=>{i.current=!1}))}}(r.useEffect)},7541:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(9745),s=n(8298),i=n(2641);const u=function(e){return r.Z?(0,i.Z)(e)?e():(0,s.Z)(e)&&"current"in e?e.current:e:null}},9745:(e,t,n)=>{n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||!window.document||!window.document.createElement)},2641:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){return"function"==typeof e}},8298:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){return"object"==typeof e&&null!==e}},928:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>m,default:()=>k,frontMatter:()=>f,metadata:()=>v,toc:()=>b});var r=n(7462),s=n(7294),i=n(3905),u=n(3066),o=n(2823),c=n(4259),a=n(9745);const l=function(){const[e,t]=(0,s.useState)((()=>!a.Z||!document.hidden));return(0,c.Z)((()=>document),"visibilitychange",(()=>{t(!document.hidden)})),e};var d=n(2082);const p=function(){const e=l(),[t,n]=(0,s.useState)(["Is page visible: "+e]);return(0,d.Z)((()=>{n((t=>[...t,"Is page visible: "+e]))}),[e]),s.createElement("ul",null,t.map(((e,t)=>s.createElement("li",{key:t},e))))},f={},m=void 0,v={unversionedId:"usePageVisible",id:"usePageVisible",title:"usePageVisible",description:"Detect whether the page is visible.",source:"@site/docs/usePageVisible.mdx",sourceDirName:".",slug:"/usePageVisible",permalink:"/hooks/usePageVisible",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useDarkMode",permalink:"/hooks/useDarkMode"},next:{title:"useMatchMedia",permalink:"/hooks/useMatchMedia"}},g={},b=[{value:"API",id:"api",level:2},{value:"Example",id:"example",level:2}],Z={toc:b};function k(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},Z,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Detect whether the page is visible."),(0,i.kt)("h2",{id:"api"},"API"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"function usePageVisible(): boolean;\n")),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)(o.Z,{mdxType:"ExampleBlock"},(0,i.kt)(p,{mdxType:"Example"})),(0,i.kt)(u.Z,{language:"tsx",mdxType:"CodeBlock"},'import React, { useState } from "react";\nimport { usePageVisible, useUpdate } from "@lilib/hooks";\n\nfunction Example() {\n  const isPageVisible = usePageVisible();\n  const [logs, setLogs] = useState([`Is page visible: ${isPageVisible}`]);\n\n  useUpdate(() => {\n    setLogs((logs) => {\n      return [...logs, `Is page visible: ${isPageVisible}`];\n    });\n  }, [isPageVisible]);\n\n  return (\n    <ul>\n      {logs.map((log, index) => {\n        return <li key={index}>{log}</li>;\n      })}\n    </ul>\n  );\n}\n\nexport default Example;\n'))}k.isMDXComponent=!0}}]);