(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[5913],{7030:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294);const i="exampleBlock_ywu8",a=e=>{let{children:t}=e;return r.createElement("div",{className:i},t)}},8625:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var r=n(7294),i=n(7557),a=n.n(i),s=n(1688),o=n(5141);class c extends o.Z{constructor(){super(...arguments),this._ready=!0,this._records=new Map,this._maxCacheTime=c.DEFAULT_MAX_CACHE_TIME,this._defaultCacheTime=c.DEFAULT_CACHE_TIME}_checkCacheKey(e){if(null==e)throw new TypeError(`Cache key can't be null or undefined. Received: ${String(e)}.`)}_checkCacheData(e){if(void 0===e)throw new TypeError("Cache data can't be undefined.")}_setDeleteRecordTimer(e,t){let n=0;return t>0&&t<=this._maxCacheTime&&t<Number.MAX_SAFE_INTEGER&&(n=+setTimeout((()=>{this.delete(e)}),t)),n}_clearDeleteRecordTimer(e){const t=this._records.get(e);t&&t.deleteTimer&&clearTimeout(t.deleteTimer)}isReady(){return this._ready}asReady(){return this._ready||(this._ready=!0,this.emit("ready")),this}getMaxCacheTime(){return this._maxCacheTime}setMaxCacheTime(e){return this._maxCacheTime=e,this}getDefaultCacheTime(){return this._defaultCacheTime}setDefaultCacheTime(e){return this._defaultCacheTime=e,this}memorize(e,t,n){void 0===n&&(n={}),this._checkCacheKey(e),this._checkCacheData(t),this._clearDeleteRecordTimer(e);const r=Date.now(),{cacheTimestamp:i=r}=n,{cacheTime:a=this._defaultCacheTime}=n,s=i-r+a;if(s>0){const n=this._setDeleteRecordTimer(e,s);this._records.set(e,{data:t,cacheTime:a,deleteTimer:n,cacheTimestamp:i})}else this._records.delete(e);return this}set(e,t,n){void 0===n&&(n={}),this._checkCacheKey(e),this._checkCacheData(t),this._clearDeleteRecordTimer(e);const{cacheTime:r=this._defaultCacheTime}=n;return r>0?(this._records.set(e,{data:t,cacheTime:r,deleteTimer:this._setDeleteRecordTimer(e,r),cacheTimestamp:Date.now()}),this.for(e).emit("set",t),this.emit("set",e,t)):this.delete(e),this}has(e){return this._records.has(e)}get(e){return this._records.get(e)?.data}getCacheTime(e){return this._records.get(e)?.cacheTime}getCacheTimestamp(e){return this._records.get(e)?.cacheTimestamp}delete(e){const t=this._records.get(e);return t&&(this._clearDeleteRecordTimer(e),this._records.delete(e),this.for(e).emit("delete",t.data),this.emit("delete",e,t.data)),this}clear(){const e=new Map(this._records);this._records.clear();for(const[t,n]of e)n.deleteTimer&&clearTimeout(n.deleteTimer),this.for(t).emit("delete",n.data),this.emit("delete",t,n.data);return this.emit("clear"),this}}c.DEFAULT_CACHE_TIME=3e5,c.DEFAULT_MAX_CACHE_TIME=Number.MAX_SAFE_INTEGER;const l=c;var u=n(4819);const d=globalThis,h="__LILIB_HOOKS_GLOBAL_CACHE__",m={global:!1,cacheTime:3e5,cacheSync:!1},f=(0,r.createContext)({...m,cache:new l}),p=()=>(0,r.useContext)(f),_=e=>{const t=p(),n=(0,r.useRef)();let i=a()(e,"inherit","children");i=e.inherit?(0,u.Z)(t,i):(0,u.Z)(m,i),i.global&&d[h]&&(i.cache=d[h]),i.cache||(n.current||(n.current=new l),i.cache=n.current),i.global&&!d[h]&&(d[h]=i.cache);const o=i.cache,c=(0,r.useCallback)((e=>o.isReady()?()=>{}:(o.once("ready",e),()=>{o.off("ready",e)})),[o]),_=(0,r.useCallback)((()=>o.isReady()),[o]),g=(0,s.useSyncExternalStore)(c,_);return(0,r.useDebugValue)(g?"Ready":"Unready"),(0,r.useDebugValue)(i),r.createElement(f.Provider,{value:i},g?e.children:i.fallback)};_.Context=f,_.useConfig=p},6890:(e,t,n)=>{"use strict";n.d(t,{u:()=>m});var r=n(7294),i=n(7557),a=n.n(i),s=n(5141),o=n(4819);class c extends s.Z{constructor(){super(...arguments),this._loadings=new Map,this._reloaders=new Map,this._timestamps=new Map}isLoading(e,t){return t?this._loadings.get(e)===t:this._loadings.has(e)}setLoading(e,t){this._loadings.set(e,t)}deleteLoading(e,t){t?this._loadings.get(e)===t&&this._loadings.delete(e):this._loadings.delete(e)}getReloaders(e){return this._reloaders.get(e)||[]}addReloader(e,t){const n=this._reloaders.get(e);n?n.includes(t)||n.push(t):this._reloaders.set(e,[t])}removeReloader(e,t){const n=this._reloaders.get(e);if(n){const r=n.lastIndexOf(t);r>=0&&n.splice(r,1),n.length||this._reloaders.delete(e)}}getTimestamp(e){return this._timestamps.get(e)}setTimestamp(e){this._timestamps.set(e,Date.now())}deleteTimestamp(e){this._timestamps.has(e)&&this._timestamps.delete(e)}}const l=globalThis,u="__LILIB_HOOKS_GLOBAL_LOAD_STORE__",d={global:!1,cacheTime:3e5,staleTime:0,retry:!1,retryLimit:3,retryInterval:0,fallbackRetry:!1,fallbackRetryLimit:3,fallbackRetryInterval:0,polling:!1,pollingInterval:3e4,pollingInPageHiding:!1,pollingIntervalInPageHiding:6e4,autoReloadWaitTime:1e4,autoReloadOnPageShow:!1,autoReloadOnWindowFocus:!1,autoReloadOnNetworkReconnect:!1},h=(0,r.createContext)({...d,store:new c}),m=()=>(0,r.useContext)(h),f=e=>{const t=m(),n=(0,r.useRef)();let i=a()(e,"inherit","children");return i=e.inherit?(0,o.Z)(t,i):(0,o.Z)(d,i),i.global&&l[u]&&(i.store=l[u]),i.store||(n.current||(n.current=new c),i.store=n.current),i.global&&!l[u]&&(l[u]=i.store),(0,r.useDebugValue)(i),r.createElement(h.Provider,{value:i},e.children)};f.Context=h,f.useConfig=m},8242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);const i=function(e){const t=(0,r.useRef)(e);return t.current=e,t}},6546:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});n(6308);var r=n(7294),i=n(3218),a=n.n(i),s=n(3560),o=n.n(s),c=n(2844),l=n(4708),u=n(8134),d=n(6355),h=n(2230),m=n(8242),f=n(9601),p=n(2767),_=n(1665);const g=function(){return!_.Z||"visible"===document.visibilityState};var v=n(4819),E=n(8625),T=n(6890);const k=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});const{cache:i}=(0,E.c)(),{store:s,..._}=(0,T.u)(),{key:k,idle:y,imperative:w,independent:R,fallback:b,initialData:L,defaultParams:C,cacheKey:Z,cacheTime:x,cacheValidate:N,staleTime:I,retry:A,retryLimit:D,retryInterval:M,fallbackRetry:S,fallbackRetryLimit:O,fallbackRetryInterval:F,polling:P,pollingInterval:q,pollingInPageHiding:W,pollingIntervalInPageHiding:H,autoReloadWaitTime:K,autoReloadOnPageShow:X,autoReloadOnWindowFocus:j,autoReloadOnNetworkReconnect:B}=(0,v.Z)(_,n),U=null!=k&&!R,$=(0,l.Z)((()=>{if(null!=Z&&i.has(Z)){const e=i.get(Z);return N?N(e)?e:L:e}return L})),[V,z]=(0,d.Z)((()=>({data:null!=Z?$():L,error:null,loading:!w}))),G=(0,f.Z)(),J=(0,p.Z)(),Q=(0,m.Z)(e),Y=(0,m.Z)(b),ee=(0,r.useRef)(0),te=(0,r.useRef)(!1),ne=(0,r.useRef)(!1),re=(0,r.useRef)(),ie=(0,r.useRef)(),ae=(0,r.useRef)(),se=(0,r.useRef)(0),oe=(0,r.useRef)(0),ce=(0,r.useRef)(0),le=(0,l.Z)((()=>{if(ee.current++,te.current=!1,clearTimeout(oe.current),clearTimeout(ce.current),Ee(),cancelIdleCallback(se.current),ie.current){const{key:e,store:t}=ie.current;t.isLoading(e,me)&&(t.deleteLoading(e,me),t.for(e).emit("cancel")),ie.current=void 0}ae.current&&(ae.current(),ae.current=void 0)})),ue=(0,l.Z)(((e,t)=>{n.onSuccess?n.onSuccess(e):_.onSuccess&&_.onSuccess(e,t),_.handleSuccess&&_.handleSuccess(e,t)})),de=(0,l.Z)(((e,t)=>{n.onFailure?n.onFailure(e):_.onFailure&&_.onFailure(e,t),_.handleFailure&&_.handleFailure(e,t)})),he=(0,l.Z)((e=>{n.onFinally?n.onFinally():_.onFinally&&_.onFinally(e),_.handleFinally&&_.handleFinally(e)})),me=(0,l.Z)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];le(),te.current=!0,re.current=t;let r,c=ne.current;if(c&&(s.deleteTimestamp(me),ne.current=!1),!G.current)return new Promise((()=>{}));if(!c&&I>0&&null==V.error&&void 0!==V.data){const e=s.getTimestamp(me);if(e&&Date.now()-e<=I)return V.loading&&z({loading:!1}),new Promise((e=>{e(V.data)}))}U&&!s.isLoading(k)&&(s.setLoading(k,me),ie.current={key:k,load:me,store:s}),void 0===V.data&&null!=Z&&i.has(Z)&&(r=$())?z({data:r,loading:!0}):V.loading||z({loading:!0});const l=ee.current,u=()=>l!==ee.current,d=()=>{te.current&&(g()?P&&(ce.current=+setTimeout((()=>{u()||pe()}),q)):W&&(ce.current=+setTimeout((()=>{u()||pe()}),H)))};return U&&s.isLoading(k)&&!s.isLoading(k,me)?new Promise(((e,t)=>{const n=()=>{ae.current=void 0,s.for(k).off("cancel",r),s.for(k).off("failure",a),s.for(k).off("success",i)},r=()=>{n(),u()||pe()},i=t=>{n(),u()||e(t)},a=e=>{n(),u()||t(e)};ae.current=n,s.for(k).on("cancel",r),s.for(k).on("failure",a),s.for(k).on("success",i)})).then((e=>u()?new Promise((()=>{})):(ue(e,k),he(k),d(),e)),(e=>{if(u())return new Promise((()=>{}));throw de(e,k),he(k),d(),e})):new Promise(((e,n)=>{let r=0,i=!1,s=0;const c=a=>{if(!u())if(A&&++r<=D){const n=o()(M)?M(r):M;n>0?oe.current=+setTimeout((()=>{u()||Q.current(...t).then(e,c)}),n):Q.current(...t).then(e,c)}else if(Y.current&&!i)i=!0,Y.current(...t).then(e,c);else if(Y.current&&i&&S&&++s<=O){const r=o()(F)?F(s):F;r>0?oe.current=+setTimeout((()=>{u()||(Y.current?Y.current(...t).then(e,c):n(a))}),r):Y.current(...t).then(e,c)}else n(a)};y?se.current=requestIdleCallback((()=>{u()||Q.current(...t).then(e,c)}),a()(y)?y:void 0):Q.current(...t).then(e,c)})).then((e=>u()?new Promise((()=>{})):(I>0&&s.setTimestamp(me),null!=Z&&i.set(Z,e,{cacheTime:x}),U&&s.isLoading(k,me)&&(s.deleteLoading(k,me),s.for(k).emit("success",e),ie.current=void 0),z({data:e,error:null,loading:!1}),ue(e,k),he(k),d(),e)),(e=>{if(u())return new Promise((()=>{}));throw U&&s.isLoading(k,me)&&(s.deleteLoading(k,me),s.for(k).emit("failure",e),ie.current=void 0),z({error:e,loading:!1}),de(e,k),he(k),d(),e}))})),fe=(0,l.Z)((function(){return ne.current=!0,me(...arguments)})),pe=(0,l.Z)((e=>{const t=re.current||C;ne.current=!!e&&!!e.force,t?me(...t):me()})),_e=(0,l.Z)((e=>{z((t=>({data:o()(e)?e(t.data):e})))})),ge=(0,l.Z)((()=>{le(),ne.current=!1,!J.current&&V.loading&&z({loading:!1})})),[ve,{cancel:Ee}]=(0,h.Z)((()=>{te.current&&!V.loading&&pe()}),{wait:K,leading:!0,trailing:!1});return(0,r.useEffect)((()=>{if(X||P||W){const e=()=>{g()?(X||P)&&ve():W&&ve()};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}}),[X,P,W,ve]),(0,r.useEffect)((()=>{if(j)return window.addEventListener("focus",ve),()=>{window.removeEventListener("focus",ve)}}),[j,ve]),(0,r.useEffect)((()=>{if(B)return window.addEventListener("online",ve),()=>{window.removeEventListener("online",ve)}}),[B,ve]),(0,r.useEffect)((()=>{if(U){const e=e=>{ie.current&&ie.current.load===me||(I>0&&s.setTimestamp(me),z({data:e,error:null,loading:!1}))},t=e=>{ie.current&&ie.current.load===me||z({error:e,loading:!1})};return s.for(k).on("success",e),s.for(k).on("failure",t),()=>{s.for(k).off("success",e),s.for(k).off("failure",t)}}}),[k,U,s,me,I,z]),(0,r.useEffect)((()=>{if(null!=k)return s.addReloader(k,pe),()=>{s.removeReloader(k,pe)}}),[k,s,pe]),(0,r.useEffect)((()=>()=>{s.deleteTimestamp(me)}),[s,me]),(0,r.useEffect)((()=>{w||pe()}),t),(0,c.Z)((()=>{0}),[k]),(0,u.Z)(ge),(0,r.useDebugValue)(V),{load:me,force:fe,reload:pe,update:_e,cancel:ge,...V,reloading:V.loading&&void 0!==V.data,initializing:V.loading&&void 0===V.data}}},9601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);const i=function(){const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},4708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(8242);const a=function(e){const t=(0,r.useRef)(),n=(0,i.Z)(e);return t.current||(t.current=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(this,t)}),t.current}},7967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(4708),i=n(6890);const a=function(e,t){const{store:n}=(0,i.u)();return(0,r.Z)((r=>{const i=!!r&&!!r.force||!!t&&!!t.force;n.getReloaders(e).forEach((e=>{e({force:i})}))}))}},5912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(7294),i=n(4708),a=n(2767);const s=function(e){const t=(0,a.Z)(),[n,s]=(0,r.useState)(e);return[n,(0,i.Z)((e=>{t.current||s(e)}))]}},6355:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3560),i=n.n(r),a=n(4708),s=n(5912);const o=function(e){const[t,n]=(0,s.Z)(e);return[t,(0,a.Z)((e=>{n((t=>{const n=i()(e)?e(t):e;return{...t,...n}}))}))]}},2230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7294),i=n(3218),a=n.n(i),s=n(3493),o=n.n(s),c=n(4708),l=n(8134),u=n(8242);const d=function(e,t){let n=0,i=!1,s=!0;"number"==typeof t?n=t:a()(t)&&(void 0!==t.wait&&(n=+t.wait),void 0!==t.leading&&(i=!!t.leading),void 0!==t.trailing&&(s=!!t.trailing));const d=(0,u.Z)(e),h=(0,r.useRef)();(0,r.useMemo)((()=>{h.current?.flush(),h.current=o()((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.current.apply(this,t)}),n,{leading:i,trailing:s})}),[n,i,s]);const m=(0,c.Z)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.current?.apply(this,t)})),f=(0,c.Z)((()=>h.current?.flush())),p=(0,c.Z)((()=>{h.current?.cancel()}));return(0,l.Z)(p),[m,{flush:f,cancel:p}]}},8134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);const i=function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}},2767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294);const i=function(){const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!1,()=>{e.current=!0})),[]),e}},2844:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7294),i=n(8134);const a=function(e){return function(t,n){const a=(0,r.useRef)(!1);e((()=>{if(a.current)return t();a.current=!0}),n),(0,i.Z)((()=>{a.current=!1}))}}(r.useEffect)},5141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7037),i=n.n(r),a=n(3448),s=n.n(a),o=n(3560),c=n.n(o);class l{constructor(){this._topEmitter=null,this._parentEmitter=null,this._emitters=new Map,this._listeners=Object.create(null),this._maxListeners=l.DEFAULT_MAX_LISTENERS}_checkEventName(e){if(this._topEmitter)this._topEmitter._checkEventName(e);else{if(!i()(e)&&!s()(e))throw new TypeError(`Event name must be a string or a symbol. Received: ${typeof e}.`);if(""===e)throw new TypeError("Event name can not be an empty string.")}}_checkEventListener(e){if(this._topEmitter)this._topEmitter._checkEventListener(e);else if(!c()(e))throw new TypeError(`Event listener must be a function. Received: ${typeof e}.`)}_attach(){if(this._parentEmitter){const e=this._parentEmitter._emitters;e.has(this._forKey)||e.set(this._forKey,this),this._parentEmitter._attach()}}_prune(){this._parentEmitter&&(this._emitters.size||this.getListenersCount()||(this._parentEmitter._emitters.delete(this._forKey),this._parentEmitter._prune()))}getMaxListeners(){return this._topEmitter?this._topEmitter._maxListeners:this._maxListeners}setMaxListeners(e){return this._topEmitter?this._topEmitter.setMaxListeners(e):this._maxListeners=e,this}for(e){let t=this._emitters.get(e);return t||(t=new l,t._forKey=e,t._topEmitter=this._topEmitter||this,t._parentEmitter=this),t}on(e,t){this._checkEventName(e),this._checkEventListener(t);let n=this._listeners[e];return n?n.push(t):n=this._listeners[e]=[t],this._attach(),this}once(e,t){var n=this;this._checkEventName(e),this._checkEventListener(t);const r=function(){n.off(e,r.__RAW_LISTENER__),r.__RAW_LISTENER__(...arguments)};return r.__RAW_LISTENER__=t,this.on(e,r),this}off(e,t){this._checkEventName(e),this._checkEventListener(t);const n=this._listeners[e];if(n){let r=-1;for(let e=n.length-1;e>=0;e--)if(n[e]===t||n[e].__RAW_LISTENER__===t){r=e;break}r>=0&&n.splice(r,1),0===n.length&&delete this._listeners[e]}return this._prune(),this}emit(e){this._checkEventName(e);let t=this._listeners[e];if(t){t=[...t];for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let e=0;e<t.length;e++)try{t[e](...r)}catch(a){console.error(a)}}return this}getEventNames(){return[...Object.getOwnPropertyNames(this._listeners),...Object.getOwnPropertySymbols(this._listeners)]}getListeners(e){return this._checkEventName(e),(this._listeners[e]||[]).map((e=>e.__RAW_LISTENER__||e))}getListenersCount(e){let t=0;return void 0!==e?(this._checkEventName(e),t=this._listeners[e]?.length||0):this.getEventNames().forEach((e=>{t+=this._listeners[e]?.length||0})),t}removeAllListeners(e){return void 0!==e?(this._checkEventName(e),delete this._listeners[e]):this._listeners=Object.create(null),this._prune(),this}}l.DEFAULT_MAX_LISTENERS=100;const u=l},1665:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||!window.document||!window.document.createElement)},4819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3706),i=n.n(r);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i()({},...t,((e,t)=>void 0===t?e:t))}},6054:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>_,contentTitle:()=>f,default:()=>E,frontMatter:()=>m,metadata:()=>p,toc:()=>g});var r=n(7462),i=n(7294),a=n(3905),s=n(814),o=n(7030),c=n(6546),l=n(7967);const u=()=>new Promise((e=>{setTimeout((()=>{e(Math.random())}),1e3)}));function d(){const{data:e,loading:t}=(0,c.Z)(u,[],{key:"reload-key"});return i.createElement("div",null,"Number: ",t?"Loading...":e)}const h=function(){const e=(0,l.Z)("reload-key");return i.createElement(i.Fragment,null,i.createElement(d,null),i.createElement("button",{onClick:()=>e()},"Reload"))},m={},f=void 0,p={unversionedId:"useReload",id:"useReload",title:"useReload",description:"This hook returns a function to reload requests. It shares the context of LoadConfig with useLoad.",source:"@site/docs/useReload.mdx",sourceDirName:".",slug:"/useReload",permalink:"/hooks/useReload",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useLoad",permalink:"/hooks/useLoad"},next:{title:"useSubmit",permalink:"/hooks/useSubmit"}},_={},g=[{value:"API",id:"api",level:2},{value:"Example",id:"example",level:2}],v={toc:g};function E(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This hook returns a function to reload requests. It shares the context of ",(0,a.kt)("a",{parentName:"p",href:"./LoadConfig"},(0,a.kt)("inlineCode",{parentName:"a"},"LoadConfig"))," with ",(0,a.kt)("a",{parentName:"p",href:"./useLoad"},(0,a.kt)("inlineCode",{parentName:"a"},"useLoad")),"."),(0,a.kt)("h2",{id:"api"},"API"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"function useReload(\n  key: {},\n  options?: { force?: boolean }\n): (params?: { force?: boolean }) => void;\n")),(0,a.kt)("p",null,"Params:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"key"),":")," The key set in ",(0,a.kt)("inlineCode",{parentName:"li"},"useLoad"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options"),":")," Options object.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options.force"),":")," Force reload, ignore the ",(0,a.kt)("inlineCode",{parentName:"li"},"staleTime")," option set in ",(0,a.kt)("inlineCode",{parentName:"li"},"useLoad"),".")))),(0,a.kt)("p",null,"Results:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A function to reload all of the requests. It also accpets a ",(0,a.kt)("inlineCode",{parentName:"li"},"force")," option.")),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)(o.Z,{mdxType:"ExampleBlock"},(0,a.kt)(h,{mdxType:"Example"})),(0,a.kt)(s.Z,{language:"tsx",mdxType:"CodeBlock"},'import React from "react";\nimport { useLoad, useReload } from "@lilib/hooks";\n\nconst getNumber = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Math.random());\n    }, 1000);\n  });\n};\n\nfunction Component() {\n  const { data, loading } = useLoad(getNumber, [], {\n    key: "reload-key",\n  });\n\n  return <div>Number: {loading ? "Loading..." : data}</div>;\n}\n\nfunction Example() {\n  const reload = useReload("reload-key");\n\n  return (\n    <>\n      <Component />\n      <button onClick={() => reload()}>Reload</button>\n    </>\n  );\n}\n\nexport default Example;\n'))}E.isMDXComponent=!0},7561:(e,t,n)=>{var r=n(7990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:(e,t,n)=>{var r=n(3218),i=n(7771),a=n(4841),s=Math.max,o=Math.min;e.exports=function(e,t,n){var c,l,u,d,h,m,f=0,p=!1,_=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=l;return c=l=void 0,f=t,d=e.apply(r,n)}function E(e){return f=e,h=setTimeout(k,t),p?v(e):d}function T(e){var n=e-m;return void 0===m||n>=t||n<0||_&&e-f>=u}function k(){var e=i();if(T(e))return y(e);h=setTimeout(k,function(e){var n=t-(e-m);return _?o(n,u-(e-f)):n}(e))}function y(e){return h=void 0,g&&c?v(e):(c=l=void 0,d)}function w(){var e=i(),n=T(e);if(c=arguments,l=this,m=e,n){if(void 0===h)return E(m);if(_)return clearTimeout(h),h=setTimeout(k,t),v(m)}return void 0===h&&(h=setTimeout(k,t)),d}return t=a(t)||0,r(n)&&(p=!!n.leading,u=(_="maxWait"in n)?s(a(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==h&&clearTimeout(h),f=0,c=m=l=h=void 0},w.flush=function(){return void 0===h?d:y(i())},w}},7771:(e,t,n)=>{var r=n(5639);e.exports=function(){return r.Date.now()}},3493:(e,t,n)=>{var r=n(3279),i=n(3218);e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},4841:(e,t,n)=>{var r=n(7561),i=n(3218),a=n(3448),s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}},6308:(e,t,n)=>{var r,i,a;i=[],void 0===(a="function"==typeof(r=function(){"use strict";var e,t,r,i,a="undefined"!=typeof window?window:null!=typeof n.g?n.g:this||{},s=a.cancelRequestAnimationFrame&&a.requestAnimationFrame||setTimeout,o=a.cancelRequestAnimationFrame||clearTimeout,c=[],l=0,u=!1,d=7,h=35,m=125,f=0,p=0,_=0,g={get didTimeout(){return!1},timeRemaining:function(){var e=d-(Date.now()-p);return e<0?0:e}},v=E((function(){d=22,m=66,h=0}));function E(e){var t,n,r=99,i=function(){var a=Date.now()-n;a<r?t=setTimeout(i,r-a):(t=null,e())};return function(){n=Date.now(),t||(t=setTimeout(i,r))}}function T(){u&&(i&&o(i),r&&clearTimeout(r),u=!1)}function k(){125!=m&&(d=7,m=125,h=35,u&&(T(),R())),v()}function y(){i=null,r=setTimeout(b,0)}function w(){r=null,s(y)}function R(){u||(t=m-(Date.now()-p),e=Date.now(),u=!0,h&&t<h&&(t=h),t>9?r=setTimeout(w,t):(t=0,w()))}function b(){var n,i,a,s=d>9?9:1;if(p=Date.now(),u=!1,r=null,l>2||p-t-50<e)for(i=0,a=c.length;i<a&&g.timeRemaining()>s;i++)n=c.shift(),_++,n&&n(g);c.length?R():l=0}function L(e){return f++,c.push(e),R(),f}function C(e){var t=e-1-_;c[t]&&(c[t]=null)}if(a.requestIdleCallback&&a.cancelIdleCallback)try{a.requestIdleCallback((function(){}),{timeout:0})}catch(Z){!function(e){var t,n;if(a.requestIdleCallback=function(t,n){return n&&"number"==typeof n.timeout?e(t,n.timeout):e(t)},a.IdleCallbackDeadline&&(t=IdleCallbackDeadline.prototype)){if(!(n=Object.getOwnPropertyDescriptor(t,"timeRemaining"))||!n.configurable||!n.get)return;Object.defineProperty(t,"timeRemaining",{value:function(){return n.get.call(this)},enumerable:!0,configurable:!0})}}(a.requestIdleCallback)}else a.requestIdleCallback=L,a.cancelIdleCallback=C,a.document&&document.addEventListener&&(a.addEventListener("scroll",k,!0),a.addEventListener("resize",k),document.addEventListener("focus",k,!0),document.addEventListener("mouseover",k,!0),["click","keypress","touchstart","mousedown"].forEach((function(e){document.addEventListener(e,k,{capture:!0,passive:!0})})),a.MutationObserver&&new MutationObserver(k).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));return{request:L,cancel:C}})?r.apply(t,i):r)||(e.exports=a)}}]);