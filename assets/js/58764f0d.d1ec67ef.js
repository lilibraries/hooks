"use strict";(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[2591],{25325:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(59496),i=n(7207),u=n(53364),l=n(89258);const s=function(e){return function(t,n,s){const o=(0,r.useRef)(!1),a=(0,r.useRef)([]),c=(0,r.useRef)([]),d=(0,r.useRef)();function f(){d.current?.()}e((()=>{const e=s.map(i.Z);function r(){a.current=n,c.current=e,d.current=t()}o.current?(0,u.Z)(n,a.current)&&(0,u.Z)(e,c.current)||(f(),r()):(r(),o.current=!0)})),(0,l.Z)((()=>{f(),o.current=!1}))}}},31745:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(59496);const i=n(44622).Z?r.useLayoutEffect:r.useEffect;const u=(0,n(25325).Z)(i)},63339:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(59496),i=n(63484);const u=function(e){const t=(0,r.useRef)(),n=(0,i.Z)(e);return t.current||(t.current=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(this,t)}),t.current}},9698:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(73023),i=n(7207),u=n(63339),l=n(31745);const s=function(e,t){const n=(0,u.Z)(t);(0,l.Z)((()=>{const t=(0,i.Z)(e);if(!t)return;const u=new r.Z(n);return u.observe(t),()=>{u.disconnect()}}),[],[e])}},20584:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(59496),i=n(63339),u=n(23095);const l=function(e){const t=(0,u.Z)(),[n,l]=(0,r.useState)(e);return[n,(0,i.Z)((e=>{t.current||l(e)}))]}},89258:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(59496);const i=function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}},23095:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(59496);const i=function(){const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!1,()=>{e.current=!0})),[]),e}},23017:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>m,default:()=>w,frontMatter:()=>h,metadata:()=>p,toc:()=>k});var r=n(96600),i=n(59496),u=n(49613),l=n(65836),s=n(68892),o=n(7207),a=n(20584),c=n(9698);const d=function(e){const[{width:t,height:n},r]=(0,a.Z)((()=>{const t=(0,o.Z)(e);if(t){const e=t.getBoundingClientRect();return{width:e.width,height:e.height}}return{width:void 0,height:void 0}}));return(0,c.Z)(e,(e=>{if(e[0]){const i=e[0].target.getBoundingClientRect();i.width===t&&i.height===n||r({width:i.width,height:i.height})}})),(0,i.useDebugValue)({width:t,height:n}),{width:t,height:n}};const f=function(){const e=(0,i.useRef)(null),{width:t=0,height:n=0}=d(e);return i.createElement("div",{ref:e,style:{padding:16,border:"1px solid rgba(128, 128, 128, 0.25)"}},"Element size: ",JSON.stringify({width:t,height:n}))},h={},m=void 0,p={unversionedId:"useElementSize",id:"useElementSize",title:"useElementSize",description:"Get DOM element size.",source:"@site/docs/useElementSize.mdx",sourceDirName:".",slug:"/useElementSize",permalink:"/hooks/useElementSize",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useWindowSize",permalink:"/hooks/useWindowSize"},next:{title:"useIntersecting",permalink:"/hooks/useIntersecting"}},g={},k=[{value:"API",id:"api",level:2},{value:"Example",id:"example",level:2}],E={toc:k};function w(e){let{components:t,...n}=e;return(0,u.kt)("wrapper",(0,r.Z)({},E,n,{components:t,mdxType:"MDXLayout"}),(0,u.kt)("p",null,"Get DOM element size."),(0,u.kt)("h2",{id:"api"},"API"),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-ts"},"function useElementSize(target: EffectTarget<Element>): {\n  width: number | undefined;\n  height: number | undefined;\n};\n\ntype Nullable<T> = T | undefined | null;\ntype EffectTarget<T> =\n  | Nullable<T>\n  | (() => Nullable<T>)\n  | { current: Nullable<T> };\n")),(0,u.kt)("p",null,"Params:"),(0,u.kt)("ul",null,(0,u.kt)("li",{parentName:"ul"},(0,u.kt)("strong",{parentName:"li"},(0,u.kt)("inlineCode",{parentName:"strong"},"target"),":")," A DOM element. It can be ",(0,u.kt)("inlineCode",{parentName:"li"},"undefined"),", ",(0,u.kt)("inlineCode",{parentName:"li"},"null"),", a DOM element, a ref object references a DOM element, or a function returns a DOM element.")),(0,u.kt)("p",null,"Results:"),(0,u.kt)("ul",null,(0,u.kt)("li",{parentName:"ul"},(0,u.kt)("strong",{parentName:"li"},(0,u.kt)("inlineCode",{parentName:"strong"},"width"),":")," Element width."),(0,u.kt)("li",{parentName:"ul"},(0,u.kt)("strong",{parentName:"li"},(0,u.kt)("inlineCode",{parentName:"strong"},"height"),":")," Element height.")),(0,u.kt)("h2",{id:"example"},"Example"),(0,u.kt)("p",null,"You can change the browser window size to see the effect."),(0,u.kt)(s.Z,{mdxType:"ExampleBlock"},(0,u.kt)(f,{mdxType:"Example"})),(0,u.kt)(l.Z,{language:"tsx",mdxType:"CodeBlock"},'import React, { useRef } from "react";\nimport { useElementSize } from "@lilib/hooks";\n\nfunction Example() {\n  const ref = useRef(null);\n  const { width = 0, height = 0 } = useElementSize(ref);\n\n  return (\n    <div\n      ref={ref}\n      style={{\n        padding: 16,\n        border: "1px solid rgba(128, 128, 128, 0.25)",\n      }}\n    >\n      Element size: {JSON.stringify({ width, height })}\n    </div>\n  );\n}\n\nexport default Example;\n'))}w.isMDXComponent=!0}}]);