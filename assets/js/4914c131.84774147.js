(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{80:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return u})),n.d(t,"default",(function(){return d}));var a=n(3),s=n(7),r=(n(0),n(110)),o={},i={unversionedId:"useCreate",id:"useCreate",isDocsHomePage:!1,title:"useCreate",description:"This hook is similar to React.useMemo, but the deps is an empty array by default, and ensures that the create function is executed only once with deps unchanged.",source:"@site/docs/useCreate.mdx",slug:"/useCreate",permalink:"/hooks/useCreate",version:"current",sidebar:"docs",previous:{title:"useSessionStorage",permalink:"/hooks/useSessionStorage"},next:{title:"useRerender",permalink:"/hooks/useRerender"}},u=[{value:"Usage",id:"usage",children:[]},{value:"Example",id:"example",children:[]}],c={toc:u};function d(e){var t=e.components,n=Object(s.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"This hook is similar to ",Object(r.b)("inlineCode",{parentName:"p"},"React.useMemo"),", but the deps is an empty array by default, and ensures that the create function is executed only once with deps unchanged."),Object(r.b)("h2",{id:"usage"},"Usage"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-ts"},"function useCreate<T>(create: () => T, deps?: React.DependencyList): T;\n")),Object(r.b)("h2",{id:"example"},"Example"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-ts"},'import { useState } from "react";\nimport { useCreate, useEventListener } from "@lilib/hooks";\n\nconst query = "(prefers-color-scheme: dark)";\n\nfunction useDarkTheme(): boolean {\n  const media = useCreate(() => window.matchMedia(query));\n  const [dark, setDark] = useState(media.matches);\n\n  useEventListener(media, "change", (event: MediaQueryListEvent) => {\n    setDark(event.matches);\n  });\n\n  return dark;\n}\n')))}d.isMDXComponent=!0}}]);