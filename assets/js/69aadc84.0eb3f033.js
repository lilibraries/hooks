"use strict";(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[1935],{3724:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(7294),o=n(8134);const a=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let n=0,r=e.length;for(;n<r;n++)if(!Object.is(e[n],t[n]))return!1;return!0};var i=n(7541);const u=function(e){return function(t,n,u){const s=(0,r.useRef)(!1),c=(0,r.useRef)([]),l=(0,r.useRef)([]),d=(0,r.useRef)();function f(){null==d.current||d.current()}e((()=>{const e=u.map(i.Z);function r(){c.current=n,l.current=e,d.current=t()}s.current?a(n,c.current)&&a(e,l.current)||(f(),r()):(r(),s.current=!0)})),(0,o.Z)((()=>{f(),s.current=!1}))}}},8242:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294);const o=function(e){const t=(0,r.useRef)(e);return t.current=e,t}},3809:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294);const o=(0,n(3724).Z)(r.useEffect)},8134:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294);const o=function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}},7541:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(9745),o=n(8298),a=n(2641);const i=function(e){return r.Z?(0,a.Z)(e)?e():(0,o.Z)(e)&&"current"in e?e.current:e:null}},9745:(e,t,n)=>{n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||!window.document||!window.document.createElement)},2641:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){return"function"==typeof e}},8298:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){return"object"==typeof e&&null!==e}},2840:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>p,default:()=>N,frontMatter:()=>m,metadata:()=>k,toc:()=>C});var r=n(7462),o=n(7294),a=n(3905),i=n(3066),u=n(2823),s=n(8242),c=n(3809),l=n(7541);const d=function(e,t,n){const r=Array.isArray(e)?e:[e],{container:o,eventName:a="mousedown"}=n||{},i=Array.isArray(a)?a:[a],u=(0,s.Z)(t);(0,c.Z)((()=>{function e(e){for(const t of r.map(l.Z))if(t&&t.contains(e.target))return;u.current(e)}const t=(0,l.Z)(o)||document;for(const n of i)t.addEventListener(n,e);return()=>{for(const n of i)t.removeEventListener(n,e)}}),i,r)};const f=function(){const e=(0,o.useRef)(null),[t,n]=(0,o.useState)(0);return d(e,(()=>{n(t+1)})),o.createElement(o.Fragment,null,o.createElement("button",{ref:e},"Click outside")," Count: ",t)},m={},p=void 0,k={unversionedId:"useClickAway",id:"useClickAway",title:"useClickAway",description:"Trigger a callback when clicking outside the target area.",source:"@site/docs/useClickAway.mdx",sourceDirName:".",slug:"/useClickAway",permalink:"/hooks/useClickAway",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useWindowSize",permalink:"/hooks/useWindowSize"},next:{title:"useEventListener",permalink:"/hooks/useEventListener"}},g={},C=[{value:"Example",id:"example",level:2}],v={toc:C};function N(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Trigger a callback when clicking outside the target area."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"type Target<T> = T | undefined | null;\ntype TargetCreator<T> =\n  | Target<T>\n  | (() => Target<T>)\n  | React.RefObject<Target<T>>\n  | React.MutableRefObject<Target<T>>;\n\nfunction useClickAway<E extends Event = Event>(\n  target: TargetCreator<Node> | TargetCreator<Node>[],\n  listener: (event: E) => void,\n  options?: {\n    container?: TargetCreator<Element>;\n    eventName?: string | string[];\n  }\n): void;\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"target"),":")," Target node or nodes."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"listener"),":")," Listener function."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options"),":")," Options object.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options.container"),":")," Container for binding events. Default is ",(0,a.kt)("inlineCode",{parentName:"li"},"document"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options.eventName"),":")," Event name or names. Default is ",(0,a.kt)("inlineCode",{parentName:"li"},'"mousedown"'),".")))),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)(u.Z,{mdxType:"ExampleBlock"},(0,a.kt)(f,{mdxType:"Example"})),(0,a.kt)(i.Z,{language:"tsx",mdxType:"CodeBlock"},'import React, { useRef, useState } from "react";\nimport { useClickAway } from "@lilib/hooks";\n\nfunction Example() {\n  const buttonRef = useRef(null);\n  const [count, setCount] = useState(0);\n\n  useClickAway(buttonRef, () => {\n    setCount(count + 1);\n  });\n\n  return (\n    <>\n      <button ref={buttonRef}>Click outside</button> Count: {count}\n    </>\n  );\n}\n\nexport default Example;\n'))}N.isMDXComponent=!0}}]);