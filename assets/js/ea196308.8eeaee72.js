(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[1596],{53364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=[e,t].concat(r);if(arguments.length<2)throw new TypeError("The length of `areArraysEqual`'s params must be >= 2.");if(a.some((function(e){return!Array.isArray(e)})))throw new TypeError("The params of `areArraysEqual` must be arrays.");for(var i=a[0],s=a.length,u=!0,c=1;c<s;c++)i!==a[c]&&(u=!1);if(u)return!0;for(var l=1;l<s;l++)if(i.length!==a[l].length)return!1;for(var p=1;p<s;p++)for(var f=a[p],v=i.length,d=0;d<v;d++)if(!Object.is(i[d],f[d]))return!1;return!0}},7207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(36838),o=n.n(r),a=n(92042),i=n.n(a),s=n(44622);const u=function(e){return s.Z?i()(e)?e():o()(e)&&"current"in e?e.current:e:null}},44622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||!window.document||!window.document.createElement)},25325:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(59496),o=n(7207),a=n(53364),i=n(89258);const s=function(e){return function(t,n,s){const u=(0,r.useRef)(!1),c=(0,r.useRef)([]),l=(0,r.useRef)([]),p=(0,r.useRef)();function f(){p.current?.()}e((()=>{const e=s.map(o.Z);function r(){c.current=n,l.current=e,p.current=t()}u.current?(0,a.Z)(n,c.current)&&(0,a.Z)(e,l.current)||(f(),r()):(r(),u.current=!0)})),(0,i.Z)((()=>{f(),u.current=!1}))}}},67390:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(36838),o=n.n(r),a=n(7207);const i=function(e){return!!e&&!!e.addEventListener&&!!e.removeEventListener};var s=n(63339),u=n(44088);const c=function(e,t,n,r){let c,l,p;"boolean"==typeof r?c=r:o()(r)&&(void 0!==r.capture&&(c=!!r.capture),void 0!==r.once&&(l=!!r.once),void 0!==r.passive&&(p=!!r.passive));const f=(0,s.Z)(n);(0,u.Z)((()=>{const n=(0,a.Z)(e);if(i(n))return n.addEventListener(t,f,{capture:c,once:l,passive:p}),()=>{n.removeEventListener(t,f,{capture:c})}}),[t,c,l,p],[e])}},63339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(59496),o=n(63484);const a=function(e){const t=(0,r.useRef)(),n=(0,o.Z)(e);return t.current||(t.current=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(this,t)}),t.current}},44088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(59496);const o=(0,n(25325).Z)(r.useEffect)},89258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(59496);const o=function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}},83901:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>p,default:()=>k,frontMatter:()=>l,metadata:()=>f,toc:()=>d});var r=n(96600),o=n(59496),a=n(49613),i=n(65836),s=n(68892),u=n(67390);const c=function(){const e=(0,o.useRef)(null);return(0,u.Z)(e,"click",(()=>{alert("Click")})),o.createElement("button",{ref:e},"Click")},l={},p=void 0,f={unversionedId:"useEventListener",id:"useEventListener",title:"useEventListener",description:"Set up the event listener to the target.",source:"@site/docs/useEventListener.mdx",sourceDirName:".",slug:"/useEventListener",permalink:"/hooks/useEventListener",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useClickOutside",permalink:"/hooks/useClickOutside"},next:{title:"useResizeObserver",permalink:"/hooks/useResizeObserver"}},v={},d=[{value:"API",id:"api",level:2},{value:"Example",id:"example",level:2}],m={toc:d};function k(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Set up the event listener to the target."),(0,a.kt)("h2",{id:"api"},"API"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"function useEventListener<\n  T extends EventTarget = EventTarget,\n  E extends Event = Event\n>(\n  target: EffectTarget<T>,\n  eventName: string,\n  listener: (event: E) => void,\n  options?: boolean | { capture?: boolean; once?: boolean; passive?: boolean }\n): void;\n\ntype Nullable<T> = T | undefined | null;\ntype EffectTarget<T> =\n  | Nullable<T>\n  | (() => Nullable<T>)\n  | { current: Nullable<T> };\n")),(0,a.kt)("p",null,"Params:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"target"),":")," Event target. It can be ",(0,a.kt)("inlineCode",{parentName:"li"},"undefined"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"null"),", event target, a ref object or a function that returns a event target."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"eventName"),":")," Event name."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"listener"),":")," Listener function."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options"),":")," Similar to the third parameter of the ",(0,a.kt)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener"},(0,a.kt)("inlineCode",{parentName:"a"},"addEventListener"))," function.")),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)(s.Z,{mdxType:"ExampleBlock"},(0,a.kt)(c,{mdxType:"Example"})),(0,a.kt)(i.Z,{language:"tsx",mdxType:"CodeBlock"},'import React, { useRef } from "react";\nimport { useEventListener } from "@lilib/hooks";\n\nfunction Example() {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n\n  useEventListener(buttonRef, "click", () => {\n    alert("Click");\n  });\n\n  return <button ref={buttonRef}>Click</button>;\n}\n\nexport default Example;\n'))}k.isMDXComponent=!0},74396:(e,t,n)=>{var r=n(29165).Symbol;e.exports=r},80732:(e,t,n)=>{var r=n(74396),o=n(31239),a=n(57058),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},96476:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},31239:(e,t,n)=>{var r=n(74396),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},57058:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},29165:(e,t,n)=>{var r=n(96476),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},92042:(e,t,n)=>{var r=n(80732),o=n(36838);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},36838:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}}]);