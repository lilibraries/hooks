(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[3919],{64635:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||!window.document||!window.document.createElement)},75649:(e,t,n)=>{"use strict";n.d(t,{c:()=>f});var r=n(67294),a=n(57557),i=n.n(a),o=n(61688),l=n(1820),u=n(13027);const s=globalThis,c="__LILIB_HOOKS_GLOBAL_CACHE__",d={global:!1,cacheTime:3e5,cacheSync:!1},m=(0,r.createContext)({...d,cache:new l.Z}),f=()=>(0,r.useContext)(m),p=e=>{const t=f(),n=(0,r.useRef)();let a=i()(e,"inherit","children");a=e.inherit?(0,u.Z)(t,a):(0,u.Z)(d,a),a.global&&s[c]&&(a.cache=s[c]),a.cache||(n.current||(n.current=new l.Z),a.cache=n.current),a.global&&!s[c]&&(s[c]=a.cache);const p=a.cache,g=(0,r.useCallback)((e=>p.isReady()?()=>{}:(p.once("ready",e),()=>{p.off("ready",e)})),[p]),k=(0,r.useCallback)((()=>p.isReady()),[p]),v=(0,o.useSyncExternalStore)(g,k);return(0,r.useDebugValue)(v?"Ready":"Unready"),(0,r.useDebugValue)(a),r.createElement(m.Provider,{value:a},v?e.children:a.fallback)};p.Context=m,p.useConfig=f},16890:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});var r=n(67294),a=n(57557),i=n.n(a),o=n(59813),l=n(13027);class u extends o.Z{constructor(){super(...arguments),this._loadings=new Map,this._reloaders=new Map}isLoading(e,t){return t?this._loadings.get(e)===t:this._loadings.has(e)}setLoading(e,t){this._loadings.set(e,t)}deleteLoading(e,t){t?this._loadings.get(e)===t&&this._loadings.delete(e):this._loadings.delete(e)}getReloaders(e){return this._reloaders.get(e)||[]}addReloader(e,t){const n=this._reloaders.get(e);n?n.includes(t)||n.push(t):this._reloaders.set(e,[t])}removeReloader(e,t){const n=this._reloaders.get(e);if(n){const r=n.lastIndexOf(t);r>=0&&n.splice(r,1),n.length||this._reloaders.delete(e)}}}const s=globalThis,c="__LILIB_HOOKS_GLOBAL_LOAD_STORE__",d={global:!1,cacheTime:3e5,staleTime:0,retry:!1,retryLimit:3,retryInterval:0,fallbackRetry:!1,fallbackRetryLimit:3,fallbackRetryInterval:0,polling:!1,pollingInterval:3e4,pollingInPageHiding:!1,pollingIntervalInPageHiding:6e4,autoReloadWaitTime:1e4,autoReloadOnPageShow:!1,autoReloadOnWindowFocus:!1,autoReloadOnNetworkReconnect:!1},m=(0,r.createContext)({...d,store:new u}),f=()=>(0,r.useContext)(m),p=e=>{const t=f(),n=(0,r.useRef)();let a=i()(e,"inherit","children");return a=e.inherit?(0,l.Z)(t,a):(0,l.Z)(d,a),a.global&&s[c]&&(a.store=s[c]),a.store||(n.current||(n.current=new u),a.store=n.current),a.global&&!s[c]&&(s[c]=a.store),(0,r.useDebugValue)(a),r.createElement(m.Provider,{value:a},e.children)};p.Context=m,p.useConfig=f},42323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});n(16308);var r=n(67294),a=n(13218),i=n.n(a),o=n(23560),l=n.n(o),u=n(13027),s=n(64635);const c=function(){return!s.Z||"visible"===document.visibilityState};var d=n(72844),m=n(14708),f=n(58134),p=n(96355),g=n(12230),k=n(58242),v=n(19601),b=n(72767),h=n(75649),y=n(16890);const w=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});const{cache:a}=(0,h.c)(),{store:o,...s}=(0,y.u)(),{key:w,idle:N,imperative:C,independent:R,fallback:L,initialData:T,defaultParams:Z,cacheKey:x,cacheTime:E,staleTime:I,cacheValidate:S,retry:P,retryLimit:_,retryInterval:D,fallbackRetry:F,fallbackRetryLimit:O,fallbackRetryInterval:A,polling:M,pollingInterval:q,pollingInPageHiding:W,pollingIntervalInPageHiding:H,autoReloadWaitTime:j,autoReloadOnPageShow:B,autoReloadOnWindowFocus:V,autoReloadOnNetworkReconnect:K}=(0,u.Z)(s,n),$=null!=w&&!R,z=(0,m.Z)((()=>{if(null!=x&&a.has(x)){const e=a.get(x);return S?S(e)?e:T:e}return T})),[G,U]=(0,p.Z)((()=>({data:z(),error:null,loading:!C}))),X=(0,v.Z)(),Y=(0,b.Z)(),J=(0,k.Z)(e),Q=(0,k.Z)(L),ee=(0,r.useRef)(0),te=(0,r.useRef)(!1),ne=(0,r.useRef)(!1),re=(0,r.useRef)(),ae=(0,r.useRef)(),ie=(0,r.useRef)(),oe=(0,r.useRef)(0),le=(0,r.useRef)(0),ue=(0,r.useRef)(0),se=(0,m.Z)((()=>{if(ee.current++,te.current=!1,clearTimeout(le.current),clearTimeout(ue.current),he(),cancelIdleCallback(oe.current),ae.current){const{key:e,store:t}=ae.current;t.isLoading(e,fe)&&(t.deleteLoading(e,fe),t.for(e).emit("cancel")),ae.current=void 0}ie.current&&(ie.current(),ie.current=void 0)})),ce=(0,m.Z)(((e,t)=>{n.onSuccess?n.onSuccess(e):s.onSuccess&&s.onSuccess(e,t),s.handleSuccess&&s.handleSuccess(e,t)})),de=(0,m.Z)(((e,t)=>{n.onFailure?n.onFailure(e):s.onFailure&&s.onFailure(e,t),s.handleFailure&&s.handleFailure(e,t)})),me=(0,m.Z)((e=>{n.onFinally?n.onFinally():s.onFinally&&s.onFinally(e),s.handleFinally&&s.handleFinally(e)})),fe=(0,m.Z)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se(),te.current=!0,re.current=t;let r,u=ne.current;if(u&&(ne.current=!1),!X.current)return new Promise((()=>{}));if(!u&&I>0&&null!=x&&a.has(x)&&null==G.error){let e;const t=a.getCacheTimestamp(x);if(t&&Date.now()-t<=I&&(void 0!==G.data||void 0!==(e=z()))){const t=void 0!==G.data?G.data:e;return void 0===G.data?U({data:e,loading:!1}):G.loading&&U({loading:!1}),new Promise((e=>{e(t)}))}}$&&!o.isLoading(w)&&(o.setLoading(w,fe),ae.current={key:w,load:fe,store:o}),void 0===G.data&&null!=x&&a.has(x)&&void 0!==(r=z())?U({data:r,loading:!0}):G.loading||U({loading:!0});const s=ee.current,d=()=>s!==ee.current,m=()=>{te.current&&(c()?M&&(ue.current=+setTimeout((()=>{d()||ge()}),q)):W&&(ue.current=+setTimeout((()=>{d()||ge()}),H)))};return $&&o.isLoading(w)&&!o.isLoading(w,fe)?new Promise(((e,t)=>{const n=()=>{ie.current=void 0,o.for(w).off("cancel",r),o.for(w).off("failure",i),o.for(w).off("success",a)},r=()=>{n(),d()||ge()},a=t=>{n(),d()||e(t)},i=e=>{n(),d()||t(e)};ie.current=n,o.for(w).on("cancel",r),o.for(w).on("failure",i),o.for(w).on("success",a)})).then((e=>d()?new Promise((()=>{})):(ce(e,w),me(w),m(),e)),(e=>{if(d())return new Promise((()=>{}));throw de(e,w),me(w),m(),e})):new Promise(((e,n)=>{let r=0,a=!1,o=0;const u=i=>{if(!d())if(P&&++r<=_){const n=l()(D)?D(r):D;n>0?le.current=+setTimeout((()=>{d()||J.current(...t).then(e,u)}),n):J.current(...t).then(e,u)}else if(Q.current&&!a)a=!0,Q.current(...t).then(e,u);else if(Q.current&&a&&F&&++o<=O){const r=l()(A)?A(o):A;r>0?le.current=+setTimeout((()=>{d()||(Q.current?Q.current(...t).then(e,u):n(i))}),r):Q.current(...t).then(e,u)}else n(i)};N?oe.current=requestIdleCallback((()=>{d()||J.current(...t).then(e,u)}),i()(N)?N:void 0):J.current(...t).then(e,u)})).then((e=>d()?new Promise((()=>{})):(null!=x&&a.set(x,e,{cacheTime:E}),$&&o.isLoading(w,fe)&&(o.deleteLoading(w,fe),o.for(w).emit("success",e),ae.current=void 0),U({data:e,error:null,loading:!1}),ce(e,w),me(w),m(),e)),(e=>{if(d())return new Promise((()=>{}));throw $&&o.isLoading(w,fe)&&(o.deleteLoading(w,fe),o.for(w).emit("failure",e),ae.current=void 0),U({error:e,loading:!1}),de(e,w),me(w),m(),e}))})),pe=(0,m.Z)((function(){return ne.current=!0,fe(...arguments)})),ge=(0,m.Z)((e=>{const t=re.current||Z;ne.current=!!e&&!!e.force,t?fe(...t):fe()})),ke=(0,m.Z)((e=>{U((t=>({data:l()(e)?e(t.data):e})))})),ve=(0,m.Z)((()=>{se(),ne.current=!1,!Y.current&&G.loading&&U({loading:!1})})),[be,{cancel:he}]=(0,g.Z)((()=>{te.current&&!G.loading&&ge()}),{wait:j,leading:!0,trailing:!1});return(0,r.useEffect)((()=>{if(B||M||W){const e=()=>{c()?(B||M)&&be():W&&be()};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}}),[B,M,W,be]),(0,r.useEffect)((()=>{if(V)return window.addEventListener("focus",be),()=>{window.removeEventListener("focus",be)}}),[V,be]),(0,r.useEffect)((()=>{if(K)return window.addEventListener("online",be),()=>{window.removeEventListener("online",be)}}),[K,be]),(0,r.useEffect)((()=>{if($){const e=e=>{ae.current&&ae.current.load===fe||U({data:e,error:null,loading:!1})},t=e=>{ae.current&&ae.current.load===fe||U({error:e,loading:!1})};return o.for(w).on("success",e),o.for(w).on("failure",t),()=>{o.for(w).off("success",e),o.for(w).off("failure",t)}}}),[w,$,o,fe,I,U]),(0,r.useEffect)((()=>{if(null!=w)return o.addReloader(w,ge),()=>{o.removeReloader(w,ge)}}),[w,o,ge]),(0,r.useEffect)((()=>{C||ge()}),t),(0,d.Z)((()=>{0}),[w]),(0,f.Z)(ve),(0,r.useDebugValue)(G),{load:fe,force:pe,reload:ge,update:ke,cancel:ve,...G,reloading:G.loading&&void 0!==G.data,initializing:G.loading&&void 0===G.data}}},19601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);const a=function(){const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},14708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),a=n(58242);const i=function(e){const t=(0,r.useRef)(),n=(0,a.Z)(e);return t.current||(t.current=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(this,t)}),t.current}},75912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),a=n(14708),i=n(72767);const o=function(e){const t=(0,i.Z)(),[n,o]=(0,r.useState)(e);return[n,(0,a.Z)((e=>{t.current||o(e)}))]}},96355:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(23560),a=n.n(r),i=n(14708),o=n(75912);const l=function(e){const[t,n]=(0,o.Z)(e);return[t,(0,i.Z)((e=>{n((t=>{const n=a()(e)?e(t):e;return{...t,...n}}))}))]}},12230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),a=n(13218),i=n.n(a),o=n(23493),l=n.n(o),u=n(14708),s=n(58134),c=n(58242);const d=function(e,t){let n=0,a=!1,o=!0;"number"==typeof t?n=t:i()(t)&&(void 0!==t.wait&&(n=+t.wait),void 0!==t.leading&&(a=!!t.leading),void 0!==t.trailing&&(o=!!t.trailing));const d=(0,c.Z)(e),m=(0,r.useRef)();(0,r.useMemo)((()=>{m.current?.flush(),m.current=l()((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.current.apply(this,t)}),n,{leading:a,trailing:o})}),[n,a,o]);const f=(0,u.Z)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.current?.apply(this,t)})),p=(0,u.Z)((()=>m.current?.flush())),g=(0,u.Z)((()=>{m.current?.cancel()}));return(0,s.Z)(g),[f,{flush:p,cancel:g}]}},58134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);const a=function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}},72767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);const a=function(){const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!1,()=>{e.current=!0})),[]),e}},72844:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),a=n(58134);const i=function(e){return function(t,n){const i=(0,r.useRef)(!1);e((()=>{if(i.current)return t();i.current=!0}),n),(0,a.Z)((()=>{i.current=!1}))}}(r.useEffect)},12733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>k,contentTitle:()=>p,default:()=>h,frontMatter:()=>f,metadata:()=>g,toc:()=>v});var r=n(87462),a=n(67294),i=n(3905),o=n(90814),l=n(67030),u=n(42323);const s={key:void 0,imperative:!0,independent:!0,initialData:void 0,defaultParams:void 0,cacheKey:void 0,staleTime:0,polling:!1,pollingInPageHiding:!1,autoReloadOnPageShow:!1,autoReloadOnWindowFocus:!1,autoReloadOnNetworkReconnect:!1};const c=function(e,t){const{force:n,loading:r}=(0,u.Z)(e,[],{...t,...s});return{submit:n,submitting:r}},d=()=>new Promise((e=>{setTimeout((()=>{e(Math.random())}),1e3)}));const m=function(){const{data:e,loading:t,update:n,reload:r}=(0,u.Z)(d),{submit:i,submitting:o}=c(d,{onSuccess:e=>{n(e),r()}});return a.createElement("div",null,a.createElement("button",{onClick:()=>i()},o?"Submitting":"Submit"),"Number: ",e," ",t?"(Loading...)":"")},f={},p=void 0,g={unversionedId:"useSubmit",id:"useSubmit",title:"useSubmit",description:"This hook is based on useLoad. It reduces many functions for convenience, and it only supports a few options. Specially, it will never execute automatically. This hook is usually used for network requests such as creating, updating and deleting, but not reading. The LoadConfig component can only set some of the options listed below for this hook.",source:"@site/docs/useSubmit.mdx",sourceDirName:".",slug:"/useSubmit",permalink:"/hooks/useSubmit",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useReload",permalink:"/hooks/useReload"},next:{title:"LoadConfig",permalink:"/hooks/LoadConfig"}},k={},v=[{value:"API",id:"api",level:2},{value:"Example",id:"example",level:2}],b={toc:v};function h(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},b,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This hook is based on ",(0,i.kt)("a",{parentName:"p",href:"./useLoad"},(0,i.kt)("inlineCode",{parentName:"a"},"useLoad")),". It reduces many functions for convenience, and it only supports a few options. Specially, it will never execute automatically. This hook is usually used for network requests such as creating, updating and deleting, but not reading. The ",(0,i.kt)("a",{parentName:"p",href:"./LoadConfig"},(0,i.kt)("inlineCode",{parentName:"a"},"LoadConfig"))," component can only set some of the options listed below for this hook."),(0,i.kt)("h2",{id:"api"},"API"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"type PromiseResolve<T extends Promise<any>> = T extends Promise<infer P>\n  ? P\n  : never;\ntype LoadCallback = (...args: any[]) => Promise<any>;\ntype LoadData<T extends LoadCallback> = PromiseResolve<ReturnType<T>>;\n\nfunction useSubmit<Callback extends LoadCallback>(\n  callback: Callback,\n  options?: {\n    idle?: boolean;\n    fallback?: Callback;\n\n    retry?: boolean;\n    retryLimit?: number;\n    retryInterval?: number | ((count: number) => number);\n    fallbackRetry?: boolean;\n    fallbackRetryLimit?: number;\n    fallbackRetryInterval?: number | ((count: number) => number);\n\n    onSuccess?: (data: LoadData<Callback>) => void;\n    onFailure?: (error: any) => void;\n    onFinally?: () => void;\n  }\n): {\n  submitting: boolean;\n  submit: (...params: Parameters<Callback>) => ReturnType<Callback>;\n};\n")),(0,i.kt)("p",null,"Params:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"callback"),":")," A function returns a promise object."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options"),":")," Options object.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.idle"),":")," Run callback during the browser's idle periods. You can set an object contains a ",(0,i.kt)("inlineCode",{parentName:"li"},"timeout")," property to limit the max waiting time."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.fallback"),":")," When the ",(0,i.kt)("inlineCode",{parentName:"li"},"callback")," function reject an error and the count of retries has been exhausted, the ",(0,i.kt)("inlineCode",{parentName:"li"},"fallback")," function will be called."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.retry"),":")," Enable retry callback. Default is ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.retryLimit"),":")," Callback retry limit. Default is ",(0,i.kt)("inlineCode",{parentName:"li"},"3"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.retryInterval"),":")," Callback retry interval. Default is ",(0,i.kt)("inlineCode",{parentName:"li"},"0"),". You can set a function that returns a number value for this option, for example ",(0,i.kt)("inlineCode",{parentName:"li"},"(count) => Math.pow(2, count)"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.fallbackRetry"),":")," Enable retry fallback. Default is ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.fallbackRetryLimit"),":")," Fallback retry limit. Default is ",(0,i.kt)("inlineCode",{parentName:"li"},"3"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.fallbackRetryInterval"),":")," Fallback retry interval. It also can be a function."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.onSuccess"),":")," Success event."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.onFailure"),":")," Failure event."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"options.onFinally"),":")," Finally event.")))),(0,i.kt)("p",null,"Results:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"submitting"),":")," Submitting state. Initial value is ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"strong"},"submit"),":")," Submit function. Used in the same way as the ",(0,i.kt)("inlineCode",{parentName:"li"},"callback"),".")),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)(l.Z,{mdxType:"ExampleBlock"},(0,i.kt)(m,{mdxType:"Example"})),(0,i.kt)(o.Z,{language:"tsx",mdxType:"CodeBlock"},'import React from "react";\nimport { useLoad, useSubmit } from "@lilib/hooks";\n\nconst getNumber = () => {\n  return new Promise<number>((resolve) => {\n    setTimeout(() => {\n      resolve(Math.random());\n    }, 1000);\n  });\n};\n\nfunction Example() {\n  const { data, loading, update, reload } = useLoad(getNumber);\n\n  const { submit, submitting } = useSubmit(getNumber, {\n    onSuccess: (result) => {\n      update(result);\n      reload();\n    },\n  });\n\n  return (\n    <div>\n      <button onClick={() => submit()}>\n        {submitting ? "Submitting" : "Submit"}\n      </button>\n      Number: {data} {loading ? "(Loading...)" : ""}\n    </div>\n  );\n}\n\nexport default Example;\n'))}h.isMDXComponent=!0},27561:(e,t,n)=>{var r=n(67990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var r=n(13218),a=n(7771),i=n(14841),o=Math.max,l=Math.min;e.exports=function(e,t,n){var u,s,c,d,m,f,p=0,g=!1,k=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=u,r=s;return u=s=void 0,p=t,d=e.apply(r,n)}function h(e){return p=e,m=setTimeout(w,t),g?b(e):d}function y(e){var n=e-f;return void 0===f||n>=t||n<0||k&&e-p>=c}function w(){var e=a();if(y(e))return N(e);m=setTimeout(w,function(e){var n=t-(e-f);return k?l(n,c-(e-p)):n}(e))}function N(e){return m=void 0,v&&u?b(e):(u=s=void 0,d)}function C(){var e=a(),n=y(e);if(u=arguments,s=this,f=e,n){if(void 0===m)return h(f);if(k)return clearTimeout(m),m=setTimeout(w,t),b(f)}return void 0===m&&(m=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,c=(k="maxWait"in n)?o(i(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==m&&clearTimeout(m),p=0,u=f=s=m=void 0},C.flush=function(){return void 0===m?d:N(a())},C}},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},23493:(e,t,n)=>{var r=n(23279),a=n(13218);e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:i,maxWait:t,trailing:o})}},14841:(e,t,n)=>{var r=n(27561),a=n(13218),i=n(33448),o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||u.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}},16308:(e,t,n)=>{var r,a,i;a=[],void 0===(i="function"==typeof(r=function(){"use strict";var e,t,r,a,i="undefined"!=typeof window?window:null!=typeof n.g?n.g:this||{},o=i.cancelRequestAnimationFrame&&i.requestAnimationFrame||setTimeout,l=i.cancelRequestAnimationFrame||clearTimeout,u=[],s=0,c=!1,d=7,m=35,f=125,p=0,g=0,k=0,v={get didTimeout(){return!1},timeRemaining:function(){var e=d-(Date.now()-g);return e<0?0:e}},b=h((function(){d=22,f=66,m=0}));function h(e){var t,n,r=99,a=function(){var i=Date.now()-n;i<r?t=setTimeout(a,r-i):(t=null,e())};return function(){n=Date.now(),t||(t=setTimeout(a,r))}}function y(){c&&(a&&l(a),r&&clearTimeout(r),c=!1)}function w(){125!=f&&(d=7,f=125,m=35,c&&(y(),R())),b()}function N(){a=null,r=setTimeout(L,0)}function C(){r=null,o(N)}function R(){c||(t=f-(Date.now()-g),e=Date.now(),c=!0,m&&t<m&&(t=m),t>9?r=setTimeout(C,t):(t=0,C()))}function L(){var n,a,i,o=d>9?9:1;if(g=Date.now(),c=!1,r=null,s>2||g-t-50<e)for(a=0,i=u.length;a<i&&v.timeRemaining()>o;a++)n=u.shift(),k++,n&&n(v);u.length?R():s=0}function T(e){return p++,u.push(e),R(),p}function Z(e){var t=e-1-k;u[t]&&(u[t]=null)}if(i.requestIdleCallback&&i.cancelIdleCallback)try{i.requestIdleCallback((function(){}),{timeout:0})}catch(x){!function(e){var t,n;if(i.requestIdleCallback=function(t,n){return n&&"number"==typeof n.timeout?e(t,n.timeout):e(t)},i.IdleCallbackDeadline&&(t=IdleCallbackDeadline.prototype)){if(!(n=Object.getOwnPropertyDescriptor(t,"timeRemaining"))||!n.configurable||!n.get)return;Object.defineProperty(t,"timeRemaining",{value:function(){return n.get.call(this)},enumerable:!0,configurable:!0})}}(i.requestIdleCallback)}else i.requestIdleCallback=T,i.cancelIdleCallback=Z,i.document&&document.addEventListener&&(i.addEventListener("scroll",w,!0),i.addEventListener("resize",w),document.addEventListener("focus",w,!0),document.addEventListener("mouseover",w,!0),["click","keypress","touchstart","mousedown"].forEach((function(e){document.addEventListener(e,w,{capture:!0,passive:!0})})),i.MutationObserver&&new MutationObserver(w).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));return{request:T,cancel:Z}})?r.apply(t,a):r)||(e.exports=i)}}]);