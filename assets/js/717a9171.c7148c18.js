(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[5002],{63339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(59496),a=n(63484);const r=function(e){const t=(0,o.useRef)(),n=(0,a.Z)(e);return t.current||(t.current=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n.current.apply(this,t)}),t.current}},20584:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(59496),a=n(63339),r=n(23095);const l=function(e){const t=(0,r.Z)(),[n,l]=(0,o.useState)(e);return[n,(0,a.Z)((e=>{t.current||l(e)}))]}},50174:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(59496),a=n(89258),r=n(63339);const l=function(e,t){const n=(0,r.Z)(e),l=(0,o.useRef)(),u=(0,r.Z)((()=>{void 0!==l.current&&(clearTimeout(l.current),l.current=void 0)})),i=(0,r.Z)((()=>{u(),l.current=setTimeout(n,t)}));return(0,a.Z)(u),[i,u]}},69882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(59496),a=n(63339),r=n(20584);const l=function(e){void 0===e&&(e=!1);const[t,n]=(0,r.Z)(!!e),l=(0,a.Z)((e=>{n(void 0!==e?!!e:e=>!e)})),u=(0,a.Z)((()=>{n(!0)})),i=(0,a.Z)((()=>{n(!1)}));return(0,o.useDebugValue)(t),[t,{toggle:l,toggleOn:u,toggleOff:i}]}},89258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(59496);const a=function(e){const t=(0,o.useRef)(e);t.current=e,(0,o.useEffect)((()=>()=>{t.current()}),[])}},23095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(59496);const a=function(){const e=(0,o.useRef)(!1);return(0,o.useEffect)((()=>(e.current=!1,()=>{e.current=!0})),[]),e}},50054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(59496),a=n(89258);const r=function(e){return function(t,n){const r=(0,o.useRef)(!1);e((()=>{if(r.current)return t();r.current=!0}),n),(0,a.Z)((()=>{r.current=!1}))}}(o.useEffect)},3444:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>x,contentTitle:()=>b,default:()=>T,frontMatter:()=>y,metadata:()=>h,toc:()=>Z});var o=n(96600),a=n(59496),r=n(49613),l=n(65836),u=n(68892),i=n(69882),s=n(59933),c=n.n(s),d=n(36838),p=n.n(d),m=n(50054),f=n(50174),g=n(20584);const v=function(e,t){let n=0,o=e=>!0,r=Object.is;c()(t)?n=t:p()(t)&&(n=+t.delay,t.include&&(o=t.include),t.compare&&(r=t.compare));const[l,u]=(0,g.Z)(e),[i,s]=(0,f.Z)((()=>u(e)),n);return(0,m.Z)((()=>{r(e,l)?s():o(e)?i():u(e)}),[e]),(0,a.useDebugValue)(l),l};const k=function(){const[e,{toggle:t}]=(0,i.Z)(!1),n=v(e,{delay:500,include:e=>!0===e});return a.createElement("div",null,a.createElement("button",{onClick:()=>t()},"Toggle"),n&&"Loading...")},y={},b=void 0,h={unversionedId:"useDelayedValue",id:"useDelayedValue",title:"useDelayedValue",description:"Delay update a value.",source:"@site/docs/useDelayedValue.mdx",sourceDirName:".",slug:"/useDelayedValue",permalink:"/hooks/useDelayedValue",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useSafeState",permalink:"/hooks/useSafeState"},next:{title:"useMemoizedValue",permalink:"/hooks/useMemoizedValue"}},x={},Z=[{value:"API",id:"api",level:2},{value:"Example",id:"example",level:2}],N={toc:Z};function T(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},N,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Delay update a value."),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"function useDelayedValue<T>(\n  value: T,\n  options:\n    | number\n    | {\n        delay: number;\n        include?: (value: any) => boolean;\n        compare?: (x: any, y: any) => boolean;\n      }\n): T;\n")),(0,r.kt)("p",null,"Params:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"value"),":")," The value will be delayed."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"options"),":")," Accepts a positive number as the delay time or an object as the options.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"options.delay"),":")," Delay time, in milliseconds. It must be a positive number."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"options.include"),":")," A function that filters value to be delayed. Any value is delayed by default."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"options.compare"),":")," It is used to compare whether two values are equal to determine whether to update the value. Default is ",(0,r.kt)("inlineCode",{parentName:"li"},"Object.is"),".")))),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("p",null,"The following example will show ",(0,r.kt)("inlineCode",{parentName:"p"},'"Loading..."')," after 500ms when you click the ",(0,r.kt)("inlineCode",{parentName:"p"},"Toggle")," button."),(0,r.kt)(u.Z,{mdxType:"ExampleBlock"},(0,r.kt)(k,{mdxType:"Example"})),(0,r.kt)(l.Z,{language:"tsx",mdxType:"CodeBlock"},'import React from "react";\nimport { useDelayedValue, useToggle } from "@lilib/hooks";\n\nfunction Example() {\n  const [loading, { toggle }] = useToggle(false);\n  const delayedLoading = useDelayedValue(loading, {\n    delay: 500,\n    include: (value) => value === true,\n  });\n\n  return (\n    <div>\n      <button onClick={() => toggle()}>Toggle</button>\n      {delayedLoading && "Loading..."}\n    </div>\n  );\n}\n\nexport default Example;\n'))}T.isMDXComponent=!0},74396:(e,t,n)=>{var o=n(29165).Symbol;e.exports=o},80732:(e,t,n)=>{var o=n(74396),a=n(31239),r=n(57058),l=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?a(e):r(e)}},96476:(e,t,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},31239:(e,t,n)=>{var o=n(74396),a=Object.prototype,r=a.hasOwnProperty,l=a.toString,u=o?o.toStringTag:void 0;e.exports=function(e){var t=r.call(e,u),n=e[u];try{e[u]=void 0;var o=!0}catch(i){}var a=l.call(e);return o&&(t?e[u]=n:delete e[u]),a}},57058:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},29165:(e,t,n)=>{var o=n(96476),a="object"==typeof self&&self&&self.Object===Object&&self,r=o||a||Function("return this")();e.exports=r},59933:(e,t,n)=>{var o=n(80732),a=n(55073);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==o(e)}},36838:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},55073:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}}}]);