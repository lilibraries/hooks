(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{101:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return d})),t.d(n,"metadata",(function(){return g})),t.d(n,"toc",(function(){return p})),t.d(n,"default",(function(){return O}));var a=t(3),l=t(7),o=t(0),c=t.n(o),i=t(110),u=t(112),r=t(113);function b(){return Math.ceil(5e3*Math.random())}var s=function(){var e=Object(o.useState)(b()),n=e[0],t=e[1],a=Object(r.q)(!1),l=a[0],i=a[1].toggle,u=Object(r.q)(!0),s=u[0],d=u[1].toggle,g=Object(o.useState)(""),p=g[0],m=g[1],O=Object(o.useState)(""),j=O[0],f=O[1],h=Object(r.d)((function(){f(p)}),{wait:n,leading:l,trailing:s}),k=h[0],v=h[1],C=v.flush,N=v.cancel;return Object(r.r)(k,[p]),c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Actions:"," ",c.a.createElement("button",{onClick:function(){return t(b())}},"Change wait time"),c.a.createElement("button",{onClick:function(){return i()}},"Toggle leading"),c.a.createElement("button",{onClick:function(){return d()}},"Toggle trailing")),c.a.createElement("p",null,"Options:"," ","{ wait: "+n+", leading: "+l+", trailing: "+s+" }"),c.a.createElement("p",null,"Enter value:"," ",c.a.createElement("input",{value:p,onChange:function(e){m(e.target.value)}}),c.a.createElement("button",{onClick:function(){return C()}},"Flush"),c.a.createElement("button",{onClick:N},"Cancel")),c.a.createElement("div",null,"Debounced value: ",j))},d={},g={unversionedId:"useDebounce",id:"useDebounce",isDocsHomePage:!1,title:"useDebounce",description:"Use debounced callback.",source:"@site/docs/useDebounce.mdx",slug:"/useDebounce",permalink:"/hooks/useDebounce",version:"current",sidebar:"docs",previous:{title:"usePersist",permalink:"/hooks/usePersist"},next:{title:"useThrottle",permalink:"/hooks/useThrottle"}},p=[{value:"Usage",id:"usage",children:[{value:"Params",id:"params",children:[]},{value:"Results",id:"results",children:[]}]},{value:"Example",id:"example",children:[]}],m={toc:p};function O(e){var n=e.components,t=Object(l.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},m,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Use debounced callback."),Object(i.b)("h2",{id:"usage"},"Usage"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-ts"},"function useDebounce<T extends (...args: any[]) => any>(\n  callback: T,\n  options: number | { wait: number; leading?: boolean; trailing?: boolean }\n): [\n  debouncedCallback: (...args: Parameters<T>) => ReturnType<T> | undefined,\n  {\n    flush: () => ReturnType<T> | undefined;\n    cancel: () => void;\n  }\n];\n")),Object(i.b)("h3",{id:"params"},"Params"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"strong"},"callback"),":")," original callback function."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"strong"},"options"),":")," debounce wait time or an options object.",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"strong"},"options.wait"),":")," debounce wait time, in milliseconds."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"strong"},"options.leading"),":")," run callback on the leading edge, default is false."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"strong"},"options.trailing"),":")," run callback on the trailing edge, default is true.")))),Object(i.b)("h3",{id:"results"},"Results"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"strong"},"debouncedCallback"),":")," debounced callback."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"strong"},"flush"),":")," flush funciton, run callback immediately."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"strong"},"cancel"),":")," cancel debounce timer.")),Object(i.b)("h2",{id:"example"},"Example"),Object(i.b)(u.a,{mdxType:"ExampleBox"},Object(i.b)(s,{mdxType:"UseDebounceExample"})),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-tsx"},'import React, { useState } from "react";\nimport { useDebounce, useToggle, useUpdate } from "@lilib/hooks";\n\nfunction random() {\n  return Math.ceil(Math.random() * 5000);\n}\n\nfunction Example() {\n  const [wait, setWait] = useState(random());\n  const [leading, { toggle: toggleLeading }] = useToggle(false);\n  const [trailing, { toggle: toggleTrailing }] = useToggle(true);\n\n  const [value, setValue] = useState("");\n  const [debouncedValue, setDebouncedValue] = useState("");\n  const [debouncedCallback, { flush, cancel }] = useDebounce(\n    () => {\n      setDebouncedValue(value);\n    },\n    { wait, leading, trailing }\n  );\n\n  useUpdate(debouncedCallback, [value]);\n\n  return (\n    <>\n      <p>\n        Actions:{" "}\n        <button onClick={() => setWait(random())}>Change wait time</button>\n        <button onClick={() => toggleLeading()}>Toggle leading</button>\n        <button onClick={() => toggleTrailing()}>Toggle trailing</button>\n      </p>\n      <p>\n        Options:{" "}\n        {`{ wait: ${wait}, leading: ${leading}, trailing: ${trailing} }`}\n      </p>\n      <p>\n        Enter value:{" "}\n        <input\n          value={value}\n          onChange={(event) => {\n            setValue(event.target.value);\n          }}\n        />\n        <button onClick={() => flush()}>Flush</button>\n        <button onClick={cancel}>Cancel</button>\n      </p>\n      <div>Debounced value: {debouncedValue}</div>\n    </>\n  );\n}\n\nexport default Example;\n')))}O.isMDXComponent=!0}}]);