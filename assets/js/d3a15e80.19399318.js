(self.webpackChunk_lilib_hooks=self.webpackChunk_lilib_hooks||[]).push([[5913],{64635:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!("undefined"==typeof window||!window.document||!window.document.createElement)},75649:(e,t,n)=>{"use strict";n.d(t,{c:()=>m});var r=n(67294),o=n(57557),a=n.n(o),i=n(61688),u=n(1820),l=n(13027);const c=globalThis,s="__LILIB_HOOKS_GLOBAL_CACHE__",d={global:!1,cacheTime:3e5,cacheSync:!1},f=(0,r.createContext)({...d,cache:new u.Z}),m=()=>(0,r.useContext)(f),g=e=>{const t=m(),n=(0,r.useRef)();let o=a()(e,"inherit","children");o=e.inherit?(0,l.Z)(t,o):(0,l.Z)(d,o),o.global&&c[s]&&(o.cache=c[s]),o.cache||(n.current||(n.current=new u.Z),o.cache=n.current),o.global&&!c[s]&&(c[s]=o.cache);const g=o.cache,p=(0,r.useCallback)((e=>g.isReady()?()=>{}:(g.once("ready",e),()=>{g.off("ready",e)})),[g]),v=(0,r.useCallback)((()=>g.isReady()),[g]),h=(0,i.useSyncExternalStore)(p,v);return(0,r.useDebugValue)(h?"Ready":"Unready"),(0,r.useDebugValue)(o),r.createElement(f.Provider,{value:o},h?e.children:o.fallback)};g.Context=f,g.useConfig=m},16890:(e,t,n)=>{"use strict";n.d(t,{u:()=>m});var r=n(67294),o=n(57557),a=n.n(o),i=n(59813),u=n(13027);class l extends i.Z{constructor(){super(...arguments),this._loadings=new Map,this._reloaders=new Map}isLoading(e,t){return t?this._loadings.get(e)===t:this._loadings.has(e)}setLoading(e,t){this._loadings.set(e,t)}deleteLoading(e,t){t?this._loadings.get(e)===t&&this._loadings.delete(e):this._loadings.delete(e)}getReloaders(e){return this._reloaders.get(e)||[]}addReloader(e,t){const n=this._reloaders.get(e);n?n.includes(t)||n.push(t):this._reloaders.set(e,[t])}removeReloader(e,t){const n=this._reloaders.get(e);if(n){const r=n.lastIndexOf(t);r>=0&&n.splice(r,1),n.length||this._reloaders.delete(e)}}}const c=globalThis,s="__LILIB_HOOKS_GLOBAL_LOAD_STORE__",d={global:!1,cacheTime:3e5,staleTime:0,retry:!1,retryLimit:3,retryInterval:0,fallbackRetry:!1,fallbackRetryLimit:3,fallbackRetryInterval:0,polling:!1,pollingInterval:3e4,pollingInPageHiding:!1,pollingIntervalInPageHiding:6e4,autoReloadWaitTime:1e4,autoReloadOnPageShow:!1,autoReloadOnWindowFocus:!1,autoReloadOnNetworkReconnect:!1},f=(0,r.createContext)({...d,store:new l}),m=()=>(0,r.useContext)(f),g=e=>{const t=m(),n=(0,r.useRef)();let o=a()(e,"inherit","children");return o=e.inherit?(0,u.Z)(t,o):(0,u.Z)(d,o),o.global&&c[s]&&(o.store=c[s]),o.store||(n.current||(n.current=new l),o.store=n.current),o.global&&!c[s]&&(c[s]=o.store),(0,r.useDebugValue)(o),r.createElement(f.Provider,{value:o},e.children)};g.Context=f,g.useConfig=m},42323:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});n(16308);var r=n(67294),o=n(13218),a=n.n(o),i=n(23560),u=n.n(i),l=n(13027),c=n(64635);const s=function(){return!c.Z||"visible"===document.visibilityState};var d=n(72844),f=n(14708),m=n(58134),g=n(96355),p=n(12230),v=n(58242),h=n(19601),k=n(72767),y=n(75649),b=n(16890);const w=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});const{cache:o}=(0,y.c)(),{store:i,...c}=(0,b.u)(),{key:w,idle:R,imperative:Z,independent:L,fallback:E,initialData:T,defaultParams:C,cacheKey:x,cacheTime:I,staleTime:N,cacheValidate:_,retry:P,retryLimit:O,retryInterval:D,fallbackRetry:F,fallbackRetryLimit:S,fallbackRetryInterval:A,polling:q,pollingInterval:M,pollingInPageHiding:H,pollingIntervalInPageHiding:W,autoReloadWaitTime:B,autoReloadOnPageShow:V,autoReloadOnWindowFocus:j,autoReloadOnNetworkReconnect:K}=(0,l.Z)(c,n),$=null!=w&&!L,z=(0,f.Z)((()=>{if(null!=x&&o.has(x)){const e=o.get(x);return _?_(e)?e:T:e}return T})),[G,X]=(0,g.Z)((()=>({data:z(),error:null,loading:!Z}))),U=(0,h.Z)(),J=(0,k.Z)(),Q=(0,v.Z)(e),Y=(0,v.Z)(E),ee=(0,r.useRef)(0),te=(0,r.useRef)(!1),ne=(0,r.useRef)(!1),re=(0,r.useRef)(),oe=(0,r.useRef)(),ae=(0,r.useRef)(),ie=(0,r.useRef)(0),ue=(0,r.useRef)(0),le=(0,r.useRef)(0),ce=(0,f.Z)((()=>{if(ee.current++,te.current=!1,clearTimeout(ue.current),clearTimeout(le.current),ye(),cancelIdleCallback(ie.current),oe.current){const{key:e,store:t}=oe.current;t.isLoading(e,me)&&(t.deleteLoading(e,me),t.for(e).emit("cancel")),oe.current=void 0}ae.current&&(ae.current(),ae.current=void 0)})),se=(0,f.Z)(((e,t)=>{n.onSuccess?n.onSuccess(e):c.onSuccess&&c.onSuccess(e,t),c.handleSuccess&&c.handleSuccess(e,t)})),de=(0,f.Z)(((e,t)=>{n.onFailure?n.onFailure(e):c.onFailure&&c.onFailure(e,t),c.handleFailure&&c.handleFailure(e,t)})),fe=(0,f.Z)((e=>{n.onFinally?n.onFinally():c.onFinally&&c.onFinally(e),c.handleFinally&&c.handleFinally(e)})),me=(0,f.Z)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ce(),te.current=!0,re.current=t;let r,l=ne.current;if(l&&(ne.current=!1),!U.current)return new Promise((()=>{}));if(!l&&N>0&&null!=x&&o.has(x)&&null==G.error){let e;const t=o.getCacheTimestamp(x);if(t&&Date.now()-t<=N&&(void 0!==G.data||void 0!==(e=z()))){const t=void 0!==G.data?G.data:e;return void 0===G.data?X({data:e,loading:!1}):G.loading&&X({loading:!1}),new Promise((e=>{e(t)}))}}$&&!i.isLoading(w)&&(i.setLoading(w,me),oe.current={key:w,load:me,store:i}),void 0===G.data&&null!=x&&o.has(x)&&void 0!==(r=z())?X({data:r,loading:!0}):G.loading||X({loading:!0});const c=ee.current,d=()=>c!==ee.current,f=()=>{te.current&&(s()?q&&(le.current=+setTimeout((()=>{d()||pe()}),M)):H&&(le.current=+setTimeout((()=>{d()||pe()}),W)))};return $&&i.isLoading(w)&&!i.isLoading(w,me)?new Promise(((e,t)=>{const n=()=>{ae.current=void 0,i.for(w).off("cancel",r),i.for(w).off("failure",a),i.for(w).off("success",o)},r=()=>{n(),d()||pe()},o=t=>{n(),d()||e(t)},a=e=>{n(),d()||t(e)};ae.current=n,i.for(w).on("cancel",r),i.for(w).on("failure",a),i.for(w).on("success",o)})).then((e=>d()?new Promise((()=>{})):(se(e,w),fe(w),f(),e)),(e=>{if(d())return new Promise((()=>{}));throw de(e,w),fe(w),f(),e})):new Promise(((e,n)=>{let r=0,o=!1,i=0;const l=a=>{if(!d())if(P&&++r<=O){const n=u()(D)?D(r):D;n>0?ue.current=+setTimeout((()=>{d()||Q.current(...t).then(e,l)}),n):Q.current(...t).then(e,l)}else if(Y.current&&!o)o=!0,Y.current(...t).then(e,l);else if(Y.current&&o&&F&&++i<=S){const r=u()(A)?A(i):A;r>0?ue.current=+setTimeout((()=>{d()||(Y.current?Y.current(...t).then(e,l):n(a))}),r):Y.current(...t).then(e,l)}else n(a)};R?ie.current=requestIdleCallback((()=>{d()||Q.current(...t).then(e,l)}),a()(R)?R:void 0):Q.current(...t).then(e,l)})).then((e=>d()?new Promise((()=>{})):(null!=x&&o.set(x,e,{cacheTime:I}),$&&i.isLoading(w,me)&&(i.deleteLoading(w,me),i.for(w).emit("success",e),oe.current=void 0),X({data:e,error:null,loading:!1}),se(e,w),fe(w),f(),e)),(e=>{if(d())return new Promise((()=>{}));throw $&&i.isLoading(w,me)&&(i.deleteLoading(w,me),i.for(w).emit("failure",e),oe.current=void 0),X({error:e,loading:!1}),de(e,w),fe(w),f(),e}))})),ge=(0,f.Z)((function(){return ne.current=!0,me(...arguments)})),pe=(0,f.Z)((e=>{const t=re.current||C;ne.current=!!e&&!!e.force,t?me(...t):me()})),ve=(0,f.Z)((e=>{X((t=>({data:u()(e)?e(t.data):e})))})),he=(0,f.Z)((()=>{ce(),ne.current=!1,!J.current&&G.loading&&X({loading:!1})})),[ke,{cancel:ye}]=(0,p.Z)((()=>{te.current&&!G.loading&&pe()}),{wait:B,leading:!0,trailing:!1});return(0,r.useEffect)((()=>{if(V||q||H){const e=()=>{s()?(V||q)&&ke():H&&ke()};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}}),[V,q,H,ke]),(0,r.useEffect)((()=>{if(j)return window.addEventListener("focus",ke),()=>{window.removeEventListener("focus",ke)}}),[j,ke]),(0,r.useEffect)((()=>{if(K)return window.addEventListener("online",ke),()=>{window.removeEventListener("online",ke)}}),[K,ke]),(0,r.useEffect)((()=>{if($){const e=e=>{oe.current&&oe.current.load===me||X({data:e,error:null,loading:!1})},t=e=>{oe.current&&oe.current.load===me||X({error:e,loading:!1})};return i.for(w).on("success",e),i.for(w).on("failure",t),()=>{i.for(w).off("success",e),i.for(w).off("failure",t)}}}),[w,$,i,me,N,X]),(0,r.useEffect)((()=>{if(null!=w)return i.addReloader(w,pe),()=>{i.removeReloader(w,pe)}}),[w,i,pe]),(0,r.useEffect)((()=>{Z||pe()}),t),(0,d.Z)((()=>{0}),[w]),(0,m.Z)(he),(0,r.useDebugValue)(G),{load:me,force:ge,reload:pe,update:ve,cancel:he,...G,reloading:G.loading&&void 0!==G.data,initializing:G.loading&&void 0===G.data}}},19601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);const o=function(){const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},14708:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),o=n(58242);const a=function(e){const t=(0,r.useRef)(),n=(0,o.Z)(e);return t.current||(t.current=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(this,t)}),t.current}},27967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(14708),o=n(16890);const a=function(e,t){const{store:n}=(0,o.u)();return(0,r.Z)((r=>{const o=!!r&&!!r.force||!!t&&!!t.force;n.getReloaders(e).forEach((e=>{e({force:o})}))}))}},75912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294),o=n(14708),a=n(72767);const i=function(e){const t=(0,a.Z)(),[n,i]=(0,r.useState)(e);return[n,(0,o.Z)((e=>{t.current||i(e)}))]}},96355:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(23560),o=n.n(r),a=n(14708),i=n(75912);const u=function(e){const[t,n]=(0,i.Z)(e);return[t,(0,a.Z)((e=>{n((t=>{const n=o()(e)?e(t):e;return{...t,...n}}))}))]}},12230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(67294),o=n(13218),a=n.n(o),i=n(23493),u=n.n(i),l=n(14708),c=n(58134),s=n(58242);const d=function(e,t){let n=0,o=!1,i=!0;"number"==typeof t?n=t:a()(t)&&(void 0!==t.wait&&(n=+t.wait),void 0!==t.leading&&(o=!!t.leading),void 0!==t.trailing&&(i=!!t.trailing));const d=(0,s.Z)(e),f=(0,r.useRef)();(0,r.useMemo)((()=>{f.current?.flush(),f.current=u()((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.current.apply(this,t)}),n,{leading:o,trailing:i})}),[n,o,i]);const m=(0,l.Z)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.current?.apply(this,t)})),g=(0,l.Z)((()=>f.current?.flush())),p=(0,l.Z)((()=>{f.current?.cancel()}));return(0,c.Z)(p),[m,{flush:g,cancel:p}]}},58134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);const o=function(e){const t=(0,r.useRef)(e);t.current=e,(0,r.useEffect)((()=>()=>{t.current()}),[])}},72767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);const o=function(){const e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!1,()=>{e.current=!0})),[]),e}},72844:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294),o=n(58134);const a=function(e){return function(t,n){const a=(0,r.useRef)(!1);e((()=>{if(a.current)return t();a.current=!0}),n),(0,o.Z)((()=>{a.current=!1}))}}(r.useEffect)},36054:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>g,default:()=>y,frontMatter:()=>m,metadata:()=>p,toc:()=>h});var r=n(87462),o=n(67294),a=n(3905),i=n(90814),u=n(67030),l=n(42323),c=n(27967);const s=()=>new Promise((e=>{setTimeout((()=>{e(Math.random())}),1e3)}));function d(){const{data:e,loading:t}=(0,l.Z)(s,[],{key:"reload-key"});return o.createElement("div",null,"Number: ",t?"Loading...":e)}const f=function(){const e=(0,c.Z)("reload-key");return o.createElement(o.Fragment,null,o.createElement(d,null),o.createElement("button",{onClick:()=>e()},"Reload"))},m={},g=void 0,p={unversionedId:"useReload",id:"useReload",title:"useReload",description:"This hook returns a function to reload requests. It shares the context of LoadConfig with useLoad.",source:"@site/docs/useReload.mdx",sourceDirName:".",slug:"/useReload",permalink:"/hooks/useReload",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useLoad",permalink:"/hooks/useLoad"},next:{title:"useSubmit",permalink:"/hooks/useSubmit"}},v={},h=[{value:"API",id:"api",level:2},{value:"Example",id:"example",level:2}],k={toc:h};function y(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This hook returns a function to reload requests. It shares the context of ",(0,a.kt)("a",{parentName:"p",href:"./LoadConfig"},(0,a.kt)("inlineCode",{parentName:"a"},"LoadConfig"))," with ",(0,a.kt)("a",{parentName:"p",href:"./useLoad"},(0,a.kt)("inlineCode",{parentName:"a"},"useLoad")),"."),(0,a.kt)("h2",{id:"api"},"API"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"function useReload(\n  key: {},\n  options?: { force?: boolean }\n): (params?: { force?: boolean }) => void;\n")),(0,a.kt)("p",null,"Params:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"key"),":")," The key set in ",(0,a.kt)("inlineCode",{parentName:"li"},"useLoad"),"."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options"),":")," Options object.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"strong"},"options.force"),":")," Force reload, ignore the ",(0,a.kt)("inlineCode",{parentName:"li"},"staleTime")," option set in ",(0,a.kt)("inlineCode",{parentName:"li"},"useLoad"),".")))),(0,a.kt)("p",null,"Results:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A function to reload all of the requests. It also accpets a ",(0,a.kt)("inlineCode",{parentName:"li"},"force")," option.")),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)(u.Z,{mdxType:"ExampleBlock"},(0,a.kt)(f,{mdxType:"Example"})),(0,a.kt)(i.Z,{language:"tsx",mdxType:"CodeBlock"},'import React from "react";\nimport { useLoad, useReload } from "@lilib/hooks";\n\nconst getNumber = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Math.random());\n    }, 1000);\n  });\n};\n\nfunction Component() {\n  const { data, loading } = useLoad(getNumber, [], {\n    key: "reload-key",\n  });\n\n  return <div>Number: {loading ? "Loading..." : data}</div>;\n}\n\nfunction Example() {\n  const reload = useReload("reload-key");\n\n  return (\n    <>\n      <Component />\n      <button onClick={() => reload()}>Reload</button>\n    </>\n  );\n}\n\nexport default Example;\n'))}y.isMDXComponent=!0},27561:(e,t,n)=>{var r=n(67990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var r=n(13218),o=n(7771),a=n(14841),i=Math.max,u=Math.min;e.exports=function(e,t,n){var l,c,s,d,f,m,g=0,p=!1,v=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function k(t){var n=l,r=c;return l=c=void 0,g=t,d=e.apply(r,n)}function y(e){return g=e,f=setTimeout(w,t),p?k(e):d}function b(e){var n=e-m;return void 0===m||n>=t||n<0||v&&e-g>=s}function w(){var e=o();if(b(e))return R(e);f=setTimeout(w,function(e){var n=t-(e-m);return v?u(n,s-(e-g)):n}(e))}function R(e){return f=void 0,h&&l?k(e):(l=c=void 0,d)}function Z(){var e=o(),n=b(e);if(l=arguments,c=this,m=e,n){if(void 0===f)return y(m);if(v)return clearTimeout(f),f=setTimeout(w,t),k(m)}return void 0===f&&(f=setTimeout(w,t)),d}return t=a(t)||0,r(n)&&(p=!!n.leading,s=(v="maxWait"in n)?i(a(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),Z.cancel=function(){void 0!==f&&clearTimeout(f),g=0,l=m=c=f=void 0},Z.flush=function(){return void 0===f?d:R(o())},Z}},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},23493:(e,t,n)=>{var r=n(23279),o=n(13218);e.exports=function(e,t,n){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:a,maxWait:t,trailing:i})}},14841:(e,t,n)=>{var r=n(27561),o=n(13218),a=n(33448),i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}},16308:(e,t,n)=>{var r,o,a;o=[],void 0===(a="function"==typeof(r=function(){"use strict";var e,t,r,o,a="undefined"!=typeof window?window:null!=typeof n.g?n.g:this||{},i=a.cancelRequestAnimationFrame&&a.requestAnimationFrame||setTimeout,u=a.cancelRequestAnimationFrame||clearTimeout,l=[],c=0,s=!1,d=7,f=35,m=125,g=0,p=0,v=0,h={get didTimeout(){return!1},timeRemaining:function(){var e=d-(Date.now()-p);return e<0?0:e}},k=y((function(){d=22,m=66,f=0}));function y(e){var t,n,r=99,o=function(){var a=Date.now()-n;a<r?t=setTimeout(o,r-a):(t=null,e())};return function(){n=Date.now(),t||(t=setTimeout(o,r))}}function b(){s&&(o&&u(o),r&&clearTimeout(r),s=!1)}function w(){125!=m&&(d=7,m=125,f=35,s&&(b(),L())),k()}function R(){o=null,r=setTimeout(E,0)}function Z(){r=null,i(R)}function L(){s||(t=m-(Date.now()-p),e=Date.now(),s=!0,f&&t<f&&(t=f),t>9?r=setTimeout(Z,t):(t=0,Z()))}function E(){var n,o,a,i=d>9?9:1;if(p=Date.now(),s=!1,r=null,c>2||p-t-50<e)for(o=0,a=l.length;o<a&&h.timeRemaining()>i;o++)n=l.shift(),v++,n&&n(h);l.length?L():c=0}function T(e){return g++,l.push(e),L(),g}function C(e){var t=e-1-v;l[t]&&(l[t]=null)}if(a.requestIdleCallback&&a.cancelIdleCallback)try{a.requestIdleCallback((function(){}),{timeout:0})}catch(x){!function(e){var t,n;if(a.requestIdleCallback=function(t,n){return n&&"number"==typeof n.timeout?e(t,n.timeout):e(t)},a.IdleCallbackDeadline&&(t=IdleCallbackDeadline.prototype)){if(!(n=Object.getOwnPropertyDescriptor(t,"timeRemaining"))||!n.configurable||!n.get)return;Object.defineProperty(t,"timeRemaining",{value:function(){return n.get.call(this)},enumerable:!0,configurable:!0})}}(a.requestIdleCallback)}else a.requestIdleCallback=T,a.cancelIdleCallback=C,a.document&&document.addEventListener&&(a.addEventListener("scroll",w,!0),a.addEventListener("resize",w),document.addEventListener("focus",w,!0),document.addEventListener("mouseover",w,!0),["click","keypress","touchstart","mousedown"].forEach((function(e){document.addEventListener(e,w,{capture:!0,passive:!0})})),a.MutationObserver&&new MutationObserver(w).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));return{request:T,cancel:C}})?r.apply(t,o):r)||(e.exports=a)}}]);